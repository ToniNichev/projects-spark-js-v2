{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./expressMiddlewares/WeatherServices/index.js","webpack:///./expressMiddlewares/WeatherServices/services.js","webpack:///./expressMiddlewares/devicesServices/index.js","webpack:///./expressMiddlewares/devicesServices/services.js","webpack:///./expressMiddlewares/requestDataFromAPI.js","webpack:///./expressMiddlewares/userServices/index.js","webpack:///./expressMiddlewares/userServices/services.js","webpack:///./src/components/About/index.js","webpack:///./src/components/About/styles.scss","webpack:///./src/components/Account/index.js","webpack:///./src/components/Account/styles.scss","webpack:///./src/components/App/index.js","webpack:///./src/components/App/styles.scss","webpack:///./src/components/BulletPoint/index.js","webpack:///./src/components/BulletPoint/styles.scss","webpack:///./src/components/Dialer/index.js","webpack:///./src/components/Dialer/styles.scss","webpack:///./src/components/EditDelete/index.js","webpack:///./src/components/EditDelete/styles.scss","webpack:///./src/components/GeneralPopup/index.js","webpack:///./src/components/GeneralPopup/styles.scss","webpack:///./src/components/Header/index.js","webpack:///./src/components/Header/styles.scss","webpack:///./src/components/Home/AddPopup/index.js","webpack:///./src/components/Home/AddPopup/styles.scss","webpack:///./src/components/Home/index.js","webpack:///./src/components/Home/styles.scss","webpack:///./src/components/Loading/index.js","webpack:///./src/components/Loading/styles.scss","webpack:///./src/components/MessagePopup/index.js","webpack:///./src/components/MessagePopup/styles.scss","webpack:///./src/components/RangeSlider/index.js","webpack:///./src/components/RangeSlider/styles.scss","webpack:///./src/components/Setup/index.js","webpack:///./src/components/Setup/styles.scss","webpack:///./src/components/SignIn/index.js","webpack:///./src/components/SignIn/styles.scss","webpack:///./src/components/SignOut/index.js","webpack:///./src/components/SignOut/styles.scss","webpack:///./src/components/TemperatureBar/index.js","webpack:///./src/components/TemperatureBar/styles.scss","webpack:///./src/components/ToggleSwitch/index.js","webpack:///./src/components/ToggleSwitch/styles.scss","webpack:///./src/components/Words/index.js","webpack:///./src/components/Words/styles.scss","webpack:///./src/connectors/database/mongodb.js","webpack:///./src/containers/EventsManager/index.js","webpack:///./src/containers/PageLayout/ComponentList/index.js","webpack:///./src/containers/PageLayout/PageData/index.js","webpack:///./src/containers/PageLayout/index.js","webpack:///./src/containers/PageLayout/styles.scss","webpack:///./src/queries/index.js","webpack:///./src/templates/Html.js","webpack:///./src/templates/InternalError.js","webpack:///./src/templates/OtherHtml.js","webpack:///./src/templates/TemplateList/index.js","webpack:///./src/templates/TemplateNotFound.js","webpack:///./src/utils/Poster.js","webpack:///./src/utils/getParams.js","webpack:///./ssr-server.js","webpack:///external \"@babel/runtime/helpers/assertThisInitialized\"","webpack:///external \"@babel/runtime/helpers/asyncToGenerator\"","webpack:///external \"@babel/runtime/helpers/classCallCheck\"","webpack:///external \"@babel/runtime/helpers/createClass\"","webpack:///external \"@babel/runtime/helpers/defineProperty\"","webpack:///external \"@babel/runtime/helpers/extends\"","webpack:///external \"@babel/runtime/helpers/getPrototypeOf\"","webpack:///external \"@babel/runtime/helpers/inherits\"","webpack:///external \"@babel/runtime/helpers/possibleConstructorReturn\"","webpack:///external \"@babel/runtime/helpers/slicedToArray\"","webpack:///external \"@babel/runtime/helpers/toConsumableArray\"","webpack:///external \"@babel/runtime/helpers/typeof\"","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"body-parser\"","webpack:///external \"cookie-parser\"","webpack:///external \"crypto\"","webpack:///external \"express\"","webpack:///external \"fs\"","webpack:///external \"https\"","webpack:///external \"isomorphic-fetch\"","webpack:///external \"mongodb\"","webpack:///external \"querystring\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-loadable\"","webpack:///external \"react-loadable/webpack\"","webpack:///external \"react-router-dom\"","webpack:///external \"universal-cookie\"","webpack:///external \"url\""],"names":["weatherServices","req","res","action","params","getLocalWeather","WEATHER_API_URL","process","cachedResponse","lastCachedTime","refreshInterval","sendResponse","responseString","status","removeHeader","send","fetchWeatherData","Date","fetch","data","datenow","console","log","response","json","responseStr","stringToObject","str","fullString","split","join","JSON","parse","DeviceServices","devicesData","hubPreferences","usersData","apiData","error","errorCode","errorMasg","message","query","requestData","hubId","mode","cookies","user","undefined","userFromCookie","userId","id","getFullReadings","getReadings","deleteDevice","getDeviceListFromDB","setDesiredTemperature","setDeviceMode","setDeviceFanMode","setAddDeviceMode","cancelAddDeviceMode","newDeviceName","validateAccessToken","queries","getDevicesBySearchTerm","deviceData","stringify","deviceResponse","result","fullData","length","getUserIdByDeviceId","users","deviceObj","toString","push","addDevice","i","deviceId","humidity","curentTemp","lastConnected","requiredTemp","fanMode","temp","removeDeviceList","tId","indexOf","remove","url","require","querystring","requestDataFromAPI","next","parsedUrl","pathname","template","PageData","parsedQs","UserServices","registerUser","logIn","logOut","updateUser","crypto","requestObj","body","email","password","getUser","getHub","hubResult","updateHub","registered","updateHubResult","group","deviceHubs","addUser","resultUpdate","ok","name","hash","createHash","update","digest","accessToken","oldPassword","searchObj","updateObj","newPassword","hub","hubUpdateResult","matchedCount","About","styles","wrapper","SignIn","props","window","redirect","location","href","Cookies","state","popupVisible","popupMessage","logInPopupVisible","setState","document","querySelector","value","get","postData","Poster","userApiUrl","popupMsg","userFieldsContainer","closeMessagePopup","Component","client","context","server","appWrapper","toggleSelect","element","flagName","flagId","target","className","search","flagBuletSelected","EventsManager","callEvent","flagBuletEditable","BulletPoint","flagBulet","spacing","dialerSetUp","Dialer","onChangeCallback","SliderId","Min","Max","Step","ShowPrecision","SetRangeValue","setTempAndHumidity","onEditingMode","beginDrag","val","min","parseFloat","max","step","ratio","rangeSelectorValueChanged","querySelectorAll","innerText","setValue","toFixed","rotateAngle","style","transform","_setTempAndHumidity","temperature","mouseMoveAction","e","center_x","offsetWidth","offsetLeft","center_y","offsetHeight","offsetTop","eventObj","touches","pos_x","pageX","pos_y","pageY","delta_y","delta_x","angle","Math","atan2","PI","round","m","a","dialerPressed","classList","add","dialerReleased","useEffect","addEventListener","circle","labelPrimary","labelSecondary","labelThird","dot","deleteFlag","deletelist","editFlag","list","then","deleteFlags","index","EditDelete","flagEditable","editDelete","deleteButton","Renderer","showPopup","useState","setPopupVisible","setMessage","closePopup","showPopupFunc","registerEvent","modal","modalContent","close","selectedFlagsList","getSelectedList","setSelectedList","unsetSelectedList","Header","title","useLocation","AddPopup","newDeviceAdded","deviceAddedClear","msg","setMsg","buttonText","setButtonText","mounted","useRef","setInterval","current","addFlag","global","__API_DATA__","innerHTML","deviceApiUrl","deviceName","flagProperties","Home","refreshRate","outsideTemp","main","feelsLike","feels_like","icon","weather","minTemp","temp_min","maxTemp","temp_max","pressure","setTimeout","fetching","disableFetchData","fetchData","dataLength","DevicesData","curentHumidity","newDeviceBodyCSS","deviceBodyCSS","flagWrapper","flagWrapperError","changeRange","setDevicesliderMode","setDeviceFanSliderMode","connected","requiredTemperature","requiredMode","getDevicesSettings","setDialersForTheFirstTime","addFlagVisible","messagePopup","messagePopupText","Devices","reload","weatherIcon","leftRail","weatherTitle","rightRail","addButtonHidden","addButtonVisible","map","device","parseInt","key","deviceModeKey","deviceFanModeKey","wrapperClass","roomName","onChangeDeviceModeCallback","func","fanModeText","onChangeDeviceFanCallback","onChangeTemperatureCallback","disableFetch","isNewDeviceAdded","Loading","stack","retry","MessagePopup","__html","RangeSlider","labels","inputId","modeChanged","_SetRangeValue","range","label","setupFullDatabase","apiUrl","setupDatabase","setupHubsDatabase","dropDatabase","getRegion","Setup","notAvailableModalVisible","setNotAvailableModalVisible","notAvailableModalClose","set","path","forceUpdate","showLogInPopup","showSignInPopup","SignOut","logOutUser","handleTemperatureChange","event","TemperatureBar","switchToggled","featureFlagName","flag","findFlagByName","updateFlag","newFlagData","flags","forEach","checked","slider","Words","dbName","connect","db","MongoClient","docObject","collectionName","collection","insert","find","searchObject","toArray","updateOneField","newObject","updateOne","$set","dropDB","createEmpty","createCollection","isFrontEnd","app_events","__APP_EVENTS__","eventName","eventAction","Loadable","loader","loading","Account","layout","span","components","PageLayout","page","allLayout","layoutList","component","componentName","ChildComponent","ComponentList","app","devicesCollectionName","usersCollectionName","hubsCollectionName","mongoDB","updateObject","getAllDevices","flagData","userObject","getAllUsers","getUserByUserId","getDevicesData","getDevicesDataForHubId","updateFeatureFlag","_id","addFeatureFlag","dropdb","deviceObject","setup","hubs","devicesObj","usersObj","setupHubsDb","setupOneUser","publicPath","Html","content","cssBundles","jsBundles","bundle","file","OtherHtml","InternalError","method","headers","APP_HOST","SERVER_PORT","ENVIRONMENT","test","devices","express","use","urlencoded","xtended","text","bodyParser","type","cookieParser","responseWithSourceCode","templateName","templateList","modules","ReactDOMServer","renderToString","moduleName","bundles","getBundles","manifest","filter","pop","allJS","mainCSS","allCSS","HTML_content","html","renderToStaticMarkup","end","devicesServices","post","userServices","respond","preloadAll","listen","runWorkers","workers"],"mappings":"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GAAGxM,UAAU,CAAC,YAAM;IAC/BuM,UAAU,EAAE;EACd,CAAC,EAAE,IAAI,CAAC;AAER,CAAC,CAAC,C;;;;;;;;;;;ACnQF,yE;;;;;;;;;;;ACAA,oE;;;;;;;;;;;ACAA,kE;;;;;;;;;;;ACAA,+D;;;;;;;;;;;ACAA,kE;;;;;;;;;;;ACAA,2D;;;;;;;;;;;ACAA,kE;;;;;;;;;;;ACAA,4D;;;;;;;;;;;ACAA,6E;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,qE;;;;;;;;;;;ACAA,0D;;;;;;;;;;;ACAA,uD;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,mC;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,+B;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,oC;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,kC;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,gC","file":"server-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded chunks\n \t// \"0\" means \"already loaded\"\n \tvar installedChunks = {\n \t\t\"server\": 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// The chunk loading function for additional chunks\n \t// Since all referenced chunks are already included\n \t// in this file, this function is empty here.\n \t__webpack_require__.e = function requireEnsure() {\n \t\treturn Promise.resolve();\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// uncaught error handler for webpack runtime\n \t__webpack_require__.oe = function(err) {\n \t\tprocess.nextTick(function() {\n \t\t\tthrow err; // catch this error by using import().catch()\n \t\t});\n \t};\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./ssr-server.js\");\n","import { getLocalWeather} from './services';\n\nconst weatherServices = async (req, res) => {\n    const action = req.params[0];\n    switch(action) {\n        case 'get-local-weather':\n            await getLocalWeather(req, res);\n            break;\n    }\n}\n\nexport default weatherServices;","const {WEATHER_API_URL} = process.env;\n\nlet cachedResponse = null;\nlet lastCachedTime = null;\nconst refreshInterval = 60; // seconds\n\nconst sendResponse = (res, responseString) => {\n\n  res.status(200);\n  res.removeHeader('X-Powered-By');\n  res.removeHeader('Set-Cookie');\n  res.removeHeader('Connection');\n  res.send(responseString);  \n}\n\nconst fetchWeatherData = async () => {\n  lastCachedTime = new Date();\n  const data = await fetch(WEATHER_API_URL);\n  return data;\n  /*\n  await fetch(WEATHER_API_URL)\n    .then(response => response.json())\n    .then(data => { \n      return data;\n    });\n    */\n}\n\n/**\n * getLocalWeather - returns local weather data.\n * @param {*} req \n * @param {*} res \n */\nconst getLocalWeather = async (req, res) => {\n  const datenow = new Date();\n  if( lastCachedTime != null && ((datenow - lastCachedTime) * 0.001) < refreshInterval ) {\n    sendResponse(res, cachedResponse);\n  }\n  else {\n    console.log(\">>>>>> Updating weather data !\");\n    const response = await fetchWeatherData();\n    const responseStr = await response.json();    \n    cachedResponse = responseStr;\n    lastCachedTime = new Date();\n    sendResponse(res, responseStr);\n  }\n}\n\n\n\nexport { \n  getLocalWeather\n};","import { \n    getDeviceListFromDB,\n    getReadings,\n    getFullReadings,\n    setDesiredTemperature,\n    setDeviceMode,\n    setDeviceFanMode,\n    setAddDeviceMode,\n    cancelAddDeviceMode,\n    deleteDevice\n} from './services';\n\n\n\nconst stringToObject = (str) => {\n    const fullString = str == '' ? '[]' : '[' + str.split('][').join('],[') + ']';\n    return JSON.parse(fullString);\n}\n\nconst sendResponse = (res, responseString) => {\n    res.status(200);\n    res.removeHeader('X-Powered-By');\n    res.removeHeader('Set-Cookie');\n    res.removeHeader('Connection');\n    res.send(responseString);  \n}\n\nconst DeviceServices = async (req, res, devicesData, hubPreferences, usersData) => {\n    \n    if(typeof req?.apiData?.error !== 'undefined' ) {\n        const errorCode = req?.apiData?.error;\n        const errorMasg = req?.apiData?.message;\n        sendResponse(res, {error: errorCode, message: errorMasg});\n        return;\n    }\n\n    if(typeof req?.query?.data === 'undefined') {\n        sendResponse(res, {error: 1, message: 'missing `data` parameter.'});\n        return;\n    }   \n\n    const action = req.params[0];\n    const requestData = stringToObject(req.query.data);\n    const hubId = requestData[0][0];\n\n    if(typeof hubPreferences[hubId] === 'undefined') {\n        hubPreferences[hubId] = {\n            mode: 0\n        }\n    }\n\n    let userFromCookie;\n    if(typeof req.cookies.user === 'undefined') {\n        req.cookies.user  = undefined;\n     }\n     else {\n        try {\n            userFromCookie = JSON.parse(req.cookies.user);\n        }catch(e) {\n            req.cookies.user  = undefined;\n            sendResponse(res,  {error:1, message: \"Invalid json object for user\"});\n            return;\n        }\n     }\n\n    const userId = userFromCookie?.id;\n\n    /*\n    if( action !== 'get-data') {\n        if( typeof userId === 'undefined') {\n            console.log(\"Invalid accessToken\");\n            sendResponse(res, {error:1, message: \"Invalid accessToken\"});\n            return;\n        }\n\n        if(userFromCookie.accessToken !== usersData[userId]?.accessToken) {\n            debugger;\n            console.log(\"Invalid accessToken\");\n            sendResponse(res, {error:1, message: \"Invalid token\"});\n            return;\n        }\n    }\n    */\n\n    switch(action) {\n        case 'get-full-data':\n            await getFullReadings(req, res, devicesData[hubId]);\n            break;\n        case 'get-data':\n            getReadings(req, res, devicesData[hubId], requestData, hubPreferences[hubId]);\n            break;   \n        case 'delete-device': \n            await deleteDevice(req, res, devicesData[hubId], requestData, hubPreferences[hubId]);\n            devicesData[hubId] = await getDeviceListFromDB(hubId);\n            break;            \n        case 'set-desired-temperature': \n            await setDesiredTemperature(req, res, devicesData[hubId], requestData);\n            break;\n        case 'set-device-mode': \n            await setDeviceMode(req, res, devicesData[hubId], requestData);\n            break;  \n        case 'set-device-fan-mode': \n            await setDeviceFanMode(req, res, devicesData[hubId], requestData);\n            break;\n        case 'add-device': \n            await setAddDeviceMode(req, res, devicesData[hubId], requestData, hubPreferences[hubId]);        \n            break;     \n            case 'cancel-add-device': \n            await cancelAddDeviceMode(req, res, devicesData[hubId], requestData, hubPreferences[hubId]);        \n            break;                \n    }\n}\n\nexport default DeviceServices;","import queries from \"../../src/queries\";\n\nlet newDeviceName = \"NO NAME\";\n\nconst sendResponse = (res, responseString) => {\n  res.status(200);\n  res.send(responseString);  \n}\n\nconst validateAccessToken = () => {}\n\nconst getDeviceListFromDB = async (hubId) => {\n  const response = await queries.getDevicesBySearchTerm( {hubId} );\n  return response;\n}\n\n/**\n * getFullReadings - returns all device data\n * @param {*} req \n * @param {*} res \n * @param {*} deviceData \n */\nconst getFullReadings = async (req, res, deviceData) => {\n  const response = JSON.stringify(deviceData);\n  sendResponse(res, response);\n}\n\n/**\n * getReadings returns desired temperature and receive device curent humidity and temperature.\n * @param {*} req \n * @param {*} res \n */\nconst getReadings = async (req, res, deviceData, deviceResponse, hubPreferences) => {\n  let result = '';  \n  const hubId = req.hubId;\n  if(hubPreferences.mode === 1) {\n    // adding device mode\n    if(req.fullData.length > 1 && req.fullData[1][0] == `added`) {\n      const users = await queries.getUserIdByDeviceId(hubId);\n      \n      if(users.length === 0) {\n        sendResponse(res, \"{'error': 'no user data'}\");\n      }\n      const userId = users[0].userId;   \n      \n      const deviceObj =  {\n        \"deviceId\": deviceData.length.toString(),\n        \"userId\": userId,\n        \"deviceName\" : newDeviceName,\n        \"hubId\": hubId,\n        \"group\": \"My home\",        \n        \"humidity\": \"0\",\n        \"curentTemp\": \"0\",\n        \"requiredTemp\": \"0\",\n        \"mode\": \"1\",\n        \"fanMode\": \"0\"\n      };\n\n      deviceData.push(deviceObj);\n      queries.addDevice(deviceObj);\n      hubPreferences.mode = 0;\n      result = `[##]`;\n    }\n    else {      \n      // Add device mode - send next available device ID to the HUB\n      result = `[#,${deviceData.length}]`; \n    }\n  }\n  else if(hubPreferences.mode == 2) {\n    sendResponse(res, '[##, 1]'); // ## - device added, 1 - ok\n    console.log(\"Device added!\");\n  }\n  else if(hubPreferences.mode == 3) {\n    sendResponse(res, '[##, 1]'); // ## - device deleted, 1 - ok\n    console.log(\"Device deleted!\");\n  }  \n  else {\n    //////////////////////////////////////\n    // Normal operationg mode\n    //////////////////////////////////////\n    for(let i = 0; i < deviceData.length; i ++) {\n      // set up deviceData with the real data from devices\n      if(typeof deviceResponse[i] != 'undefined' && deviceResponse.length > 1) {\n        // deviceResponse[0][0] is the hub ID\n        if(typeof deviceResponse[i + 1] !== 'undefined' && typeof deviceResponse[i + 1] == 'object') {\n          const deviceId = deviceResponse[i + 1][0];\n          deviceData[deviceId].humidity = deviceResponse[i + 1][1];\n          deviceData[deviceId].curentTemp = deviceResponse[i + 1][2];\n          deviceData[deviceId].lastConnected = new Date();\n        }\n      }\n      // get the desired temperature\n      result += '[' + deviceData[i].deviceId + ',' + deviceData[i].requiredTemp + ',' + deviceData[i].mode + ',' + deviceData[i].fanMode + ']'; \n    }\n    //if(result == '')\n      //result = '[]';    \n  }\n  //result = '[#,1,2,3]'; // for testing purposes\n  sendResponse(res, result);\n}\n\nconst setDesiredTemperature = async (req, res, deviceData, requestData) => {\n  const data = requestData[1];\n  const id = data[0];\n  const temp = data[1];\n  deviceData[id].requiredTemp = temp;\n  const result = `{\"status\": \"success\"}`;\n  sendResponse(res, result);\n}\n\nconst setDeviceMode = async (req, res, deviceData, requestData) => {\n  const data = requestData[1];\n  const id = data[0];\n  const mode = data[1];\n  deviceData[id].mode = mode;\n  const result = `{\"status\": \"success\"}`;\n  sendResponse(res, result);\n}\n\nconst setDeviceFanMode = async (req, res, deviceData, requestData) => {\n  const data = requestData[1];\n  const id = data[0];\n  const mode = data[1];\n  deviceData[id].fanMode = mode;\n  const result = `{\"status\": \"success\"}`;\n  sendResponse(res, result);\n}\n\nconst cancelAddDeviceMode = async (req, res, deviceData, requestData, hubPreferences) => {\n  const result = `{\"status\": \"adding canceled\"}`;\n  hubPreferences.mode = 0; // adding device\n  sendResponse(res, result);\n}\n\nconst setAddDeviceMode = async (req, res, deviceData, requestData, hubPreferences) => {\n  newDeviceName = requestData[0][1];\n  const result = `{\"status\": \"adding\"}`;\n  hubPreferences.mode = 1; // adding device\n  sendResponse(res, result);\n}\n\nconst deleteDevice = async (req, res, deviceData, requestData, hubPreferences) => {\n\n  const hubId = requestData[0][0];\n  const removeDeviceList = requestData[1];\n\n  for(var i in deviceData) {\n    const data = deviceData[i];\n    const tId = data.deviceId;\n    \n    if(removeDeviceList.indexOf(tId) !== -1 ) {\n        queries.remove({ deviceId: tId }, );        \n    }\n}\n  deviceData = await queries.getDevicesBySearchTerm({hubId});\n  const result = `{\"status\": \"deleted\"}`;\n  sendResponse(res, result);\n}\n\nexport { \n  getDeviceListFromDB,\n  getFullReadings,\n  getReadings,\n  setDesiredTemperature,\n  setDeviceMode,\n  setDeviceFanMode,\n  setAddDeviceMode,\n  cancelAddDeviceMode,\n  deleteDevice\n};","import PageData from '../src/containers/PageLayout/PageData'; \nconst url = require('url');\nconst querystring = require('querystring');\nimport queries from '../src/queries';\n\nconst stringToObject = (str) => {\n  const fullString = str == '' ? '[]' : '[' + str.split(\"][\").join(\"],[\") + ']';\n  return JSON.parse(fullString);\n}\n\nconst sendResponse = (res, responseString) => {\n  res.status(200);\n  res.removeHeader('X-Powered-By');\n  res.removeHeader('Set-Cookie');\n  res.removeHeader('Connection');\n  res.send(responseString);  \n}\n\n/**\n * \n * @param {*} req \n * @param {*} res \n * @param {*} devicesData \n * @param {*} usersData \n * @param {*} next \n * @returns \n */\nconst requestDataFromAPI = async (req, res, usersData, next) => {  \n  req.parsedUrl = url.parse(req.url);\n  req.pathname = req.parsedUrl.pathname;\n  req.template = PageData[req.pathname].template;\n  req.parsedQs = querystring.parse(req.parsedUrl.query);\n\n  //const validDataObj = stringToObject(parsedQs.data); // device(s) ids \n\n  // shortcut to run setup without credentials !!! REMOVE IT ONCE DONE !\n  //req.templateName = 'Html'; \n  req.apiData = {};\n  next();\n\n}\n\nexport default requestDataFromAPI;","import { \n    registerUser,\n    logIn,\n    logOut,\n    updateUser,\n} from './services';\n\nconst stringToObject = (str) => {\n    const fullString = str == '' ? '[]' : '[' + str.split('][').join('],[') + ']';\n    return JSON.parse(fullString);\n}\n\n\n\nconst UserServices = async (req, res, usersData) => {\n    const action = req.params[0];\n\n    \n    switch(action) {\n        case 'register-user':\n            await registerUser(req, res);\n            break;\n        case 'log-in':\n            await logIn(req, res, usersData);\n            break;   \n            case 'log-out':\n                await logOut(req, res, usersData);\n                break;               \n        case 'update-user':\n            await updateUser(req, res, usersData);\n    }\n}\n\nexport default UserServices;","import queries from \"../../src/queries\";\nvar crypto = require('crypto');\n\nconst sendResponse = (res, responseString) => {\n  res.status(200);\n  res.removeHeader('X-Powered-By');\n  res.removeHeader('Set-Cookie');\n  res.removeHeader('Connection');\n  res.send(responseString);  \n}\n\nconst registerUser = async (req, res) => {\n  let requestObj = JSON.parse(req.body);\n  const email = requestObj.email;\n  const password = requestObj.password;\n  const hubId = requestObj.hubId;\n  if(email === '' && password === '' && hubId ==='') {\n    sendResponse(res, {message: 'Some of fields are empty!', errorCode: 1});  \n    return;\n  }\n  const user = await queries.getUser({email: email});\n  if(user.length > 0) {\n    sendResponse(res, {message: 'Email exists!', errorCode: 1});  \n    return;\n  } \n  const hubResult = await queries.getHub({id: hubId});\n  if(hubResult.length === 0) {\n    sendResponse(res, {message: 'Cannot find purchased hub with this id!', errorCode: 2});  \n    return;\n  }  \n\n  const updateHubResult = await queries.updateHub({id: hubId}, {registered: true});\n\n  requestObj.id = hubId + '-u';\n  requestObj.group = 'user';\n  requestObj.deviceHubs = [hubId];\n  const resultUpdate = await queries.addUser(requestObj);\n  if(resultUpdate.result.ok === 1) {\n    sendResponse(res, {message: `User addded !`});\n\n  }\n  else {\n    sendResponse(res, {message: `Unknown error !`, errorCode: 1});\n  }\n}\n\nconst logIn = async (req, res, usersData) => {\n  const requestObj = JSON.parse(req.body);\n  const email = requestObj.email;\n  const password = requestObj.password;\n  const users = await queries.getUser({email: email, password: password });\n  if(users.length === 0) {\n    sendResponse(res, {error:1, message: 'Username or password do not match!'});  \n    return;\n  }\n  let user = users[0];\n  delete(user.password);\n  const name = `${user.email}salt${user.userId}`;\n  const hash = crypto.createHash('md5').update(name).digest('hex');\n  const userId = user.id;\n  user.accessToken = hash;\n  await queries.updateUser({email: email, password: password}, {accessToken: hash});\n  if( typeof usersData[userId] === 'undefined') {\n    usersData[userId] = user;\n  }\n\n  sendResponse(res, user);  \n}\n\nconst logOut = async (req, res, usersData) => {\n  const requestObj = JSON.parse(req.body);\n  const email = requestObj.email;\n  const accessToken = requestObj.accessToken;\n  const users = await queries.getUser({email: email });\n  const userId = users[0].id;\n\n  delete(usersData[userId]);\n  if(users.length === 0) {\n    sendResponse(res, {error:1, message: 'Username can`t be found!'});  \n    return;\n  }\n  if(accessToken !== requestObj.accessToken) {\n    sendResponse(res, {error:1, message: 'Access token is invalid'});  \n    return;    \n  }\n\n  queries.updateUser({email: email, accessToken: accessToken}, {accessToken: ''});\n  sendResponse(res, {message: \"You are logged out !\"});  \n}\n\nconst updateUser = async (req, res, usersData) => {\n  let requestObj = JSON.parse(req.body);\n\n  const userFromCookie = JSON.parse(req.cookies.user);\n  if(userFromCookie.accessToken !== requestObj.accessToken || userFromCookie.email !== requestObj.email) {\n    sendResponse(res, {message: 'Invalid access token while updating user data!', errorCode: 1});  \n    return;\n  }\n\n  if(userFromCookie.password !== requestObj.oldPassword) {\n    sendResponse(res, {message: 'Invalid password!', errorCode: 1});  \n    return;\n  }\n\n\n  const searchObj = {\n    email: userFromCookie.email,\n    accessToken: userFromCookie.accessToken\n  }\n\n  let updateObj = {};\n  if(typeof requestObj?.password !== 'undefined') {\n    updateObj.password = requestObj.newPassword\n  }\n  if(typeof requestObj?.hubId !== 'undefined') {\n    const hub = await queries.getHub({id: requestObj.hubId});    \n    if(hub.length === 0 ) {\n      sendResponse(res, {message: `Can't find this hub id !`, errorCode: 1});\n      return;\n    }\n    if(hub[0].registered === true ) {\n      sendResponse(res, {message: `Hub with this id is already registered !`, errorCode: 1});\n      return;\n    }\n    const hubUpdateResult = await queries.updateHub({id: requestObj.hubId}, {registered: true});\n    updateObj.deviceHubs = [];\n    updateObj.deviceHubs[0] = requestObj.hubId\n  }  \n  const result = await queries.updateUser(searchObj, updateObj);\n  if( result.matchedCount !== 1) {\n    sendResponse(res, {message: `Unknown error !`, errorCode: 1});\n  }\n  else \n    sendResponse(res, {message: `success!`});\n}\n\n\nexport { \n  registerUser,\n  logIn,\n  logOut,\n  updateUser\n};","\n\nimport React from 'react';\nimport styles from './styles.scss';\n\nfunction About() {\n\n  return (\n    <div className={styles.wrapper}>\n      <div>this is the about Page component</div>\n    </div>\n  );\n}\n\nexport default About;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"About-wrapper--1QYIH\"};","import React, {Component} from 'react';\nimport styles from './styles.scss';\nimport Poster from '../../utils/Poster';\nimport Cookies from 'universal-cookie';\nimport { userApiUrl} from '../../utils/getParams';\nimport MessagePopup from '../MessagePopup';\n\n\nclass SignIn extends Component {\n\n  constructor(props) {    \n    super(props);\n    if(typeof window !== 'undefined') {\n      window.redirect = (hubId) => {\n        location.href=`/home?data=[\"${hubId}\"]`;\n      }\n    }\n    this.cookies = new Cookies();\n    this.state = {\n      popupVisible: false,\n      popupMessage: '',\n      logInPopupVisible: true\n    }\n  }\n\n  closeMessagePopup() {\n    this.setState({popupVisible: !this.state.popupVisible});\n  }\n\n  showLogInPopup() {\n    this.setState({logInPopupVisible: true});\n  }\n\n  showSignInPopup() {\n    this.setState({logInPopupVisible: false});\n  }\n\n\n  async updateUser() {\n          \n    if(document.querySelector('input[type=\"password\"][name=\"oldPassword\"]').value === '') {\n      this.setState({popupMessage: 'Please enter the old password!'});\n      this.setState({popupVisible: true});        \n      return;\n    }\n\n    if(document.querySelector('input[type=\"password\"][name=\"newPassword\"]').value === '') {\n      this.setState({popupMessage: 'Please enter the new password!'});\n      this.setState({popupVisible: true});        \n      return;\n    }    \n        \n    const userFromCookie = this.cookies.get('user');\n    let postData = {\n      email: userFromCookie.email,\n      accessToken: userFromCookie.accessToken,\n      oldPassword: document.querySelector('input[type=\"password\"][name=\"oldPassword\"]').value,\n      newPassword: document.querySelector('input[type=\"password\"][name=\"newPassword\"]').value\n    }\n\n\n    const result = await Poster(`${userApiUrl}/update-user`, postData);\n    let popupMsg = result.message;\n    if(typeof result.errorCode === 'undefined') {\n      popupMsg += '<p><button onclick=\"location.reload()\">SIGN IN</button></p>';\n    }\n\n    this.setState({popupMessage: popupMsg});\n    this.setState({popupVisible: true});\n  }\n\n  render() {\n\n    return (\n      <div className={styles.wrapper}>\n        <div className={['signIn']}>\n          <h1>Update password</h1>\n          <div className={styles.userFieldsContainer}>\n\n              <label>Old Password</label>\n              <input type=\"password\" placeholder=\"Old Password\" name=\"oldPassword\" required />                        \n\n              <label>New Password</label>\n              <input type=\"password\" placeholder=\"New Password\" name=\"newPassword\" required />            \n\n              <button type=\"button\" onClick={ () => { this.updateUser() }} >UPDATE</button>\n          </div>\n        </div>\n        { this.state.popupVisible && <MessagePopup msg={this.state.popupMessage} closeMessagePopup={ () => this.closeMessagePopup() }/>}\n    </div>)\n  }\n}\n\nexport default SignIn;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Account-wrapper--2DarR\",\"userFieldsContainer\":\"Account-userFieldsContainer--3Rlg6\"};","import React from 'react';\nimport { BrowserRouter as Router, StaticRouter, Route, Switch } from 'react-router-dom';\nimport PageLayout from '../../containers/PageLayout';\nimport styles from './styles.scss';\n\n\nconst client = (props) => {\n  return ( \n    <Router>\n      <Switch>\n        <Route exact path=\"*\" render={(props) => <PageLayout {...props} />} />\n      </Switch>\n    </Router>\n  );\n}\n\nconst context = {};\n\n\nconst server = (props) => {\n  const cookies = props.cookies;\n  const apiData = props.apiData;\n  return (\n    <StaticRouter location={ props.url } serverCookies={cookies} apiData={apiData}  context={context}>\n      <Switch>\n        <Route exact path=\"*\" render={(props) => <PageLayout serverCookies={cookies} apiData={apiData} {...props} />} />  \n      </Switch>            \n    </StaticRouter>\n  );\n}\n\nexport default ( { req } ) => { \n  return (\n    <div className={styles.appWrapper}>\n      {typeof window == 'undefined' ? server(req) :client(req)}\n    </div>   \n  );\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App-appWrapper--GtBHA\"};","import React from 'react';\nimport styles from './styles.scss';\nimport EventsManager from '../../containers/EventsManager';\n\nconst toggleSelect = (element, flagName, flagId) => {\n  if(element.target.className.search('BulletPoint-flagBuletSelected')) {\n    element.target.className = styles.flagBuletSelected;\n    EventsManager.callEvent('setSelectedList')(flagId);\n  }\n  else {\n    element.target.className = styles.flagBuletEditable;\n    EventsManager.callEvent('unsetSelectedList')(flagId);\n  }\n}\n\n\nconst BulletPoint = ({status, flagName, flagId}) => {  \n  return (\n    <span>\n        {status ? \n            <span className={styles.flagBuletEditable} onClick={ (element) => {toggleSelect(element, flagName, flagId)} }></span> :\n            <span className={styles.flagBulet }></span>\n        }        \n        <span className={styles.spacing}></span>\n    </span>\n  );\n}\n\nexport default BulletPoint;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flagBulet\":\"BulletPoint-flagBulet--2XWfE\",\"flagBuletEditable\":\"BulletPoint-flagBuletEditable--2C1I3\",\"flagBuletSelected\":\"BulletPoint-flagBuletSelected--xCvyU\",\"spacing\":\"BulletPoint-spacing--33w1y\"};","import React, { useEffect } from 'react';\nimport styles from './styles.scss';\n\n\n/**\n * \n * @param {function} onChangeCallback - callback function in the HOC to be called on dialer value changed\n * @param {number} SliderId\n * @param {number} Min\n * @param {number} max\n * @param {number} Step - steps between value and value + 1 (2 will make the dailer to do 0, 0.5, 1 on drag.) 10 will go through all 10 values between 0 and 1\n * @param {number} ShowPrecision - how many digints after decimal point to show\n * @param {function} SetRangeValue - the function in HOC to be called when the value of the dialer should be changed.\n * @param {function} setTempAndHumidity\n * @param {function} onEditingMode - returns either the diler is dragged or not. Helpfull to disable update when the user drag it.\n * \n * @returns \n */\n\nlet dialerSetUp = [];\n\nconst Dialer = ({onChangeCallback, SliderId, Min, Max, Step, ShowPrecision, SetRangeValue, setTempAndHumidity, onEditingMode}) => {  \n\n  let beginDrag = false;\n  let val = 0;\n  const min = parseFloat(Min);\n  const max = parseFloat(Max);\n  const step = parseFloat(Step);\n  const ratio = 360 / (max - min);\n  \n\n  const rangeSelectorValueChanged = () => {\n    const val = document.querySelectorAll('.labelPrimary')[SliderId].innerText;\n    onChangeCallback(SliderId, val);\n  }  \n\n  const setValue = (val) => {\n    val = parseFloat(val).toFixed(ShowPrecision);\n    const rotateAngle = (360 / (max - min) ) * val;\n    if(typeof document == 'undefined') return;\n    document.querySelectorAll('.labelPrimary')[SliderId].innerText = val + ' °C';      \n    document.querySelectorAll('.circle > .dot')[SliderId].style.transform = `rotate(${rotateAngle}deg)`;\n  }\n\n  const _setTempAndHumidity = (humidity, temperature) => {\n    document.querySelectorAll('.labelSecondary')[SliderId].innerText = parseFloat(temperature).toFixed(ShowPrecision) + ' °C';\n    document.querySelectorAll('.labelThird')[SliderId].innerText = parseFloat(humidity).toFixed(ShowPrecision);\n  }\n\n  setTempAndHumidity(_setTempAndHumidity);\n\n  SetRangeValue(setValue); // pass setValue to be accessed from parent component.\n\n  const mouseMoveAction = (e) => {\n    if(beginDrag == false) return;\n\n    const center_x = ( document.querySelectorAll('.circle')[SliderId].offsetWidth / 2) + document.querySelectorAll('.circle')[SliderId].offsetLeft;\n    const center_y = ( document.querySelectorAll('.circle')[SliderId].offsetHeight / 2) + document.querySelectorAll('.circle')[SliderId].offsetTop;\n    let eventObj;\n  \n    if(e.touches)\n        eventObj = e.touches[0];\n    else    \n        eventObj = e;\n  \n    const pos_x = eventObj.pageX;\n    const pos_y = eventObj.pageY;\n  \n  \n    const delta_y =  center_y - pos_y;\n    const delta_x = center_x - pos_x;\n    let angle = Math.atan2(delta_y, delta_x) * (180 / Math.PI) // Calculate Angle between circle center and mouse pos\n    angle -= 90;\n    if(angle < 0)\n        angle = 360 + angle // Always show angle positive\n    angle = Math.round(angle);\n    document.querySelectorAll('.circle > .dot')[SliderId].style.transform = `rotate(${angle}deg)`;\n    \n    const m = parseFloat(min);\n    const a = (Math.round((angle / ratio) * step) / step);\n\n    val = (m + a).toFixed(ShowPrecision);\n    document.querySelectorAll('.labelPrimary')[SliderId].innerText = val;  \n  }\n\n  const dialerPressed = () => {\n    beginDrag = true;\n    onEditingMode(true);\n    document.querySelector('body').classList.add('preventScrolling');\n  }\n\n  const dialerReleased = () => {\n    beginDrag = false;\n    rangeSelectorValueChanged();\n    onEditingMode(false);\n    document.querySelector('body').classList.remove('preventScrolling');\n  }\n\n  useEffect(() => {\n    if(dialerSetUp[SliderId]) {\n      return;\n    }\n    dialerSetUp[SliderId] = true;\n    console.log(\"useEffect\");\n\n    document.querySelectorAll('.circle > .dot')[SliderId].addEventListener('touchstart', e => {\n      dialerPressed();\n    });    \n\n    document.querySelectorAll('.circle > .dot')[SliderId].addEventListener('touchend', e => {\n      dialerReleased();\n    });    \n\n    document.querySelectorAll('.circle > .dot')[SliderId].addEventListener('mousedown', e => {\n      dialerPressed();\n    });\n\n    document.querySelectorAll('.circle > .dot')[SliderId].addEventListener('mouseup', e => {\n      dialerReleased();\n    });\n\n    document.addEventListener('mousemove', e => {\n      mouseMoveAction(e);\n    });\n\n    document.addEventListener('touchmove', e => {\n      mouseMoveAction(e);\n    });  \n  });\n\n\n  return (    \n    <div className={styles.wrapper}>\n\n      <div className={[styles.circle, 'circle'].join(' ')}>\n        <div className={[styles.labelPrimary, 'labelPrimary'].join(' ')}> -- </div>\n        <div className={[styles.labelSecondary, 'labelSecondary'].join(' ')}> -- </div>\n        <div className={[styles.labelThird, 'labelThird'].join(' ')}> -- </div>\n        <div className={[styles.dot, 'dot'].join(' ')}></div>\n      </div>\n    </div>\n  );\n}\n\nexport default Dialer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Dialer-wrapper--2dvWq\",\"circle\":\"Dialer-circle--1FhmA\",\"dot\":\"Dialer-dot--2x6Xc\",\"labelPrimary\":\"Dialer-labelPrimary--3Ky1a\",\"labelSecondary\":\"Dialer-labelSecondary--1l3rj\",\"labelThird\":\"Dialer-labelThird--ylg29\"};","import React from 'react';\nimport styles from './styles.scss';\nimport EventsManager from '../../containers/EventsManager';\nimport GenralPopup from '../GeneralPopup';\n\nconst deleteFlag = (hubId, deletelist, editFlag) => {\n  const list = JSON.stringify(deletelist);\n  fetch(`${process.env.APP_HOST}:${process.env.SERVER_PORT}/device-services/delete-device?data=[\"${hubId}\"]${list}`)\n  .then(response => response.json())\n  .then(data => {\n\n    EventsManager.callEvent('devices-deleted')();\n    editFlag();\n  });  \n}\n\nconst deleteFlags = (hubId, editFlag) => {\n  const list = EventsManager.callEvent('getSelectedList')();\n  let deletelist = [];\n  for(var index in list) {\n    if(list[index]) {\n      deletelist.push(index);\n    }\n  }\n  deleteFlag(hubId, deletelist, editFlag);\n}\n\n\nconst EditDelete = ({flagEditable, editFlag, hubId}) => {  \n  if(!flagEditable) {\n    return (\n      <button onClick={() => { editFlag()} }>EDIT</button>\n    );\n  }\n  else {\n    return (\n      <div className={styles.editDelete}>\n        <button className={styles.deleteButton} onClick={() => { deleteFlags( hubId, editFlag )} }>DELETE</button>\n        <button onClick={() => { editFlag()} }>CANCEL</button>\n      </div>\n    );\n  }\n\n}\n\nexport default EditDelete;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editDelete\":\"EditDelete-editDelete--3eQh-\",\"deleteButton\":\"EditDelete-deleteButton--s7f0_\"};","import React, { useState } from 'react';\nimport styles from './styles.scss';\nimport EventsManager from '../../containers/EventsManager';\n\nconst Renderer = ({showPopup}) => {  \n  const [popupVisible, setPopupVisible] = useState(showPopup);\n  const [message, setMessage] = useState('');\n\n\n  function closePopup() {\n    setPopupVisible(false);\n  }\n\n  function showPopupFunc(message) {\n    setMessage(message);\n    setPopupVisible(true);\n  }\n\n  // register global showPopup to be called by other components\n  EventsManager.registerEvent('showPopup' ,showPopupFunc);\n\n  return popupVisible ? (\n    <div id=\"addFeatureFlag\" className={styles.modal}>\n      <div className={styles.modalContent}>\n        <span onClick={ () => { closePopup() } } className={styles.close}>&times;</span>\n        <div className={styles.message}>\n          {message}\n        </div>          \n      </div>      \n    </div>\n  ) : ( null );\n}\n\nexport default Renderer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"GeneralPopup-modal--OnTgp\",\"modalContent\":\"GeneralPopup-modalContent--1NTQT\",\"close\":\"GeneralPopup-close--3VIzC\",\"message\":\"GeneralPopup-message--3VEhO\"};","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport styles from './styles.scss';\nimport GenralPopup from '../GeneralPopup';\nimport EventsManager from '../../containers/EventsManager';\n\nlet selectedFlagsList = [];\n\nconst getSelectedList = () => {\n  return selectedFlagsList;\n}\n\nconst setSelectedList = (id) => {\n  selectedFlagsList[id] = true;\n}\n\nconst unsetSelectedList = (id) => {\n  delete selectedFlagsList[id];\n}\n\nEventsManager.registerEvent('getSelectedList' ,getSelectedList);\nEventsManager.registerEvent('setSelectedList' ,setSelectedList);\nEventsManager.registerEvent('unsetSelectedList' ,unsetSelectedList);\n\n\nconst Header = ( {title} ) => {\n\n\n  const { search } = useLocation();\n  return (\n    <div>\n      <div className={styles.wrapper}>      \n        <ul>\n          <li><Link to={`/home${search}`}>DEVICES</Link></li>\n          <li><Link to={`/account${search}`}>ACCOUNT</Link></li>\n          <li><Link to={`/setup${search}`}>SETTINGS</Link></li>       \n          <li><Link to={`/about${search}`}>ABOUT</Link></li>\n          <li><Link to={`/sign-out${search}`}>SIGN OUT</Link></li>\n        </ul>\n      </div>\n      <GenralPopup showPopup={false} />\n    </div>\n  );\n}\nexport default Header;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Header-wrapper--2UICB\",\"active\":\"Header-active--15lr3\"};","import React, { useState, useEffect, useRef }  from 'react';\nimport styles from './styles.scss';\nimport { deviceApiUrl } from '../../../utils/getParams';\nimport EventsManager from  '../../../containers/EventsManager';\nimport {Poster} from '../../../utils/Poster';\n\nlet mode = 0;\n\nconst AddPopup = ({closePopup, newDeviceAdded, deviceAddedClear}) => {  \n\n  const [msg, setMsg] = useState('ADD DEVICE NAME');\n  const [buttonText, setButtonText] = useState('ADD DEVICE');  \n  //const [isMounted, setIsMounted] = useState(false);\n\n  const mounted = useRef(false);\n\n  useEffect(() => {\n    setInterval( () => {\n       console.log('mode :', mode);\n      if (!mounted.current) \n        return;      \n      if(mode == 2 && newDeviceAdded()) {\n        setMsg('New device was successfuly added!');\n        setButtonText('DONE');   \n        mode = 3;        \n\n      }\n    }, 4000);\n\n    mounted.current = true;\n    return () => (mounted.current = false);\n});\n\n  const addFlag = () => {\n    const apiData = typeof global.__API_DATA__ !== 'undefined' ? global.__API_DATA__ : window.__API_DATA__;\n    const hubId = apiData.hubId;\n\n    if(mode == 1) {      \n      // waiting to finish fetch from mode 0\n    }\n    if(mode == 2) {\n      if(document.querySelector('#addFeatureFlag > div > div button').innerHTML === 'CANCEL') {\n        fetch(`${deviceApiUrl}/cancel-add-device?data=[\"${hubId}\"]`)\n        .then(response => response.json())\n        .then(data => { \n          closePopup();\n          mode = 0;\n      });\n        mode = 0;\n        return;\n      }\n      else {\n        setMsg('New device was successfuly added!');\n        setButtonText('DONE');   \n        mode = 3;\n      }\n    }\n    if(mode == 3) { \n      // done      \n      mode = 0;\n      setMsg('...');\n      setButtonText('ADD DEVICE');      \n      deviceAddedClear();\n      closePopup();\n    }    \n    else if(mode == 3) {\n      // done \n      mode = 0;\n      setMsg('...');\n      setButtonText('ADD DEVICE');      \n      closePopup();     \n    }    \n    else if(mode == 0) {\n      mode = 1;\n      const deviceName = document.querySelector(\"#popup-device-name\").value;\n      fetch(`${deviceApiUrl}/add-device?data=[\"${hubId}\", \"${deviceName}\"]`)\n        .then(response => response.json())\n        .then(data => { \n          setMsg('Looking for the new device ...');\n          setButtonText('CANCEL');\n          mode = 2;\n      });\n    }\n  }\n  \n  \n  return (\n    <div id=\"addFeatureFlag\" className={styles.modal}>\n      <div className={styles.modalContent}>\n        <span onClick={ () => { closePopup() } } className={styles.close}>&times;</span>\n        <div className={styles.flagProperties}>\n          <p>{msg}</p>\n          <p><input id=\"popup-device-name\" type=\"text\" defaultValue=\"new device name\"/></p>\n          <p><button onClick={ () => { addFlag() } }>{buttonText}</button></p>\n        </div>          \n      </div>      \n    </div>\n  );\n}\n\nexport default AddPopup;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"AddPopup-modal--202IA\",\"modalContent\":\"AddPopup-modalContent--ZHo4C\",\"close\":\"AddPopup-close--3M2Ra\"};","import React, {Component} from 'react';\nimport styles from './styles.scss';\nimport ToggleSwitch from '../ToggleSwitch';\nimport BulletPoint from '../BulletPoint';\nimport AddPopup from './AddPopup';\nimport MessagePopup from '../MessagePopup';\nimport {Poster} from '../../utils/Poster';\nimport EditDelete from '../EditDelete';\nimport { apiUrl } from '../../utils/getParams';\nimport Dialer from '../Dialer';\nimport RangeSlider from '../RangeSlider';\nimport TemperatureBar from '../TemperatureBar';\nimport Cookies from 'universal-cookie';\nconst {WEATHER_API_URL} = process.env;\nimport EventsManager from  '../../containers/EventsManager';\n\nclass Home extends Component {\n  \n  \n  constructor(props) {\n    super(props);\n    this.getDevicesSettings();\n    this.changeRange = [];\n    this.setTempAndHumidity = [];\n    this.setDialersForTheFirstTime = false;\n    this.setDevicesliderMode = [];\n    this.setDeviceFanSliderMode = [];\n    this.disableFetchData = false;\n    this.hubId = null;\n    this.dataLength = 0;\n    this.newDeviceAdded = false;\n    this.cookies = new Cookies();\n\n    this.addFlagVisible = false;\n    \n    this.state = {\n      addFlagVisible: false,\n      messagePopup: false,   \n      messagePopupText: '',      \n      flagEditable: false,\n      deviceBodyCSS: [],\n      Devices: [],\n      // weather data\n      icon: '01d',\n      outsideTemp: 0,\n      feelsLike: 0,\n      humidity: 0,\n    };\n    // get api data\n    const apiData = typeof global.__API_DATA__ !== 'undefined' ? global.__API_DATA__ : typeof window === 'undefined' ? {} : window.__API_DATA__;\n    this.DevicesData = apiData.DevicesData;\n    this.hubId = apiData.hubId;\n    if( typeof window !== 'undefined' && typeof this.hubId === 'undefined') {\n      //window.location = '/sign-in';\n      console.log(\"Undefined Hub Id!\");\n    }\n    // fetch device and weather data\n    this.fetching = false;\n    this.fetchData();\n    this.fetchWeatherData();      \n    EventsManager.registerEvent('Devices-deleted', () => {\n      this.setState({messagePopupText: '<h2>Selected Devices removed!</h2><hr/><p>Make sure that you reset all erased Devices to set them up into add mode so you will be able to add them later.</p>'});\n      this.setState({messagePopup: true});\n    });\n  }  \n\n  addFlag() {\n    this.setState({addFlagVisible: true});\n  }\n\n  closePopup() {\n    this.setState({addFlagVisible: false});    \n    this.getDevicesSettings();\n  }  \n\n  closeMessagePopup() {\n    //this.setState({messagePopup: false});    \n    window.location.reload();    \n  }\n\n  isNewDeviceAdded() {\n    const result = this.newDeviceAdded;\n    return result;\n  }\n\n  deviceAddedClear() {\n    this.newDeviceAdded = false;\n  }  \n\n\n  editFlag() {\n    this.setState({flagEditable: !this.state.flagEditable});     \n  }\n\n  getDevicesSettings() {\n    // empty for now\n  }\n\n  fetchWeatherData = () => {\n    if(typeof window == 'undefined') return;\n    const refreshRate = 60000;\n  \n    fetch('/weather-services/get-local-weather')\n      .then(response => response.json())\n      .then(data => { \n        const outsideTemp = data.main.temp;\n        const feelsLike = data.main.feels_like;\n        const humidity = data.main.humidity;\n        const icon = data.weather[0].icon;\n\n        const minTemp = data.main.temp_min;\n        const maxTemp = data.main.temp_max;\n        const pressure = data.main.pressure;\n        //const windSpeed = data.main.wind.speed;\n        this.setState({icon});\n        this.setState({outsideTemp, feelsLike, humidity, minTemp, maxTemp, pressure});\n        setTimeout( () => {\n          this.fetchWeatherData();\n        }, refreshRate);        \n      });\n  }\n\n  fetchData = () => {\n    const user = this.cookies.get('user');\n    if(typeof window == 'undefined' || this.fetching === true || typeof user === 'undefined') return;\n    this.fetching = true;\n    const refreshRate = 2000;\n    if(this.disableFetchData === true) {\n      setTimeout( () => {\n        this.fetchData();\n      }, refreshRate);\n      return;\n    }\n\n    fetch(`${process.env.APP_HOST}:${process.env.SERVER_PORT}/device-services/get-full-data?data=[\"${this.hubId}\"]`)\n      .then(response => response.json())\n      .then(data => { \n        if(typeof data?.error !== 'undefined') {\n          console.log(\"######################\")\n          console.log(\"error: \", data.error)\n          console.log(\"######################\")\n          //window.location = '/sign-out';\n        }\n        if(this.dataLength < data.length) {\n          this.dataLength = data.length;\n          this.DevicesData = data;\n          this.newDeviceAdded = true;\n        }\n        for(let i = 0; i < data.length; i ++) {\n          const id = data[i].id;\n          const curentTemp = data[i].curentTemp;\n          const curentHumidity = data[i].humidity;\n          const requiredTemp = data[i].requiredTemp;\n          const mode = data[i].mode;\n          const fanMode = data[i].fanMode;\n          \n          if (typeof data[i].lastConnected === 'undefined' || (new Date() - new Date(data[i].lastConnected)) / 1000 > 20) {            \n            const newDeviceBodyCSS =  [...this.state.deviceBodyCSS]; \n            newDeviceBodyCSS[i] = [styles.flagWrapper, styles.flagWrapperError];            \n            this.setState({deviceBodyCSS: newDeviceBodyCSS}); \n          }\n          else {\n            const newDeviceBodyCSS =  [...this.state.deviceBodyCSS];\n            newDeviceBodyCSS[i] = [styles.flagWrapper];\n            this.setState({deviceBodyCSS: newDeviceBodyCSS }); \n          }\n\n          if(typeof this.changeRange[i] != 'undefined') {\n            this.changeRange[i](requiredTemp);\n            this.setTempAndHumidity[i](curentHumidity, curentTemp);\n            this.setDevicesliderMode[i](mode);\n            this.setDeviceFanSliderMode[i](fanMode);\n            this.connected = false;\n          }\n        } \n        this.fetching = false;       \n        setTimeout( () => {\n          this.fetchData();\n        }, refreshRate);        \n      });\n  }\n\n  disableFetch = (mode) => {\n    this.disableFetchData = mode;\n  }\n\n  onChangeTemperatureCallback = (deviceId, requiredTemperature) => {\n    fetch(`${process.env.APP_HOST}:${process.env.SERVER_PORT}/device-services/set-desired-temperature?data=[\"${this.hubId}\"][${deviceId},${requiredTemperature}]`)\n      .then(response => response.json())\n      .then(data => { \n      });\n  }\n\n\n  onChangeDeviceModeCallback = (deviceId, requiredMode) => {\n    fetch(`${process.env.APP_HOST}:${process.env.SERVER_PORT}/device-services/set-device-mode?data=[\"${this.hubId}\"][${deviceId},${requiredMode}]`)\n      .then(response => response.json())\n      .then(data => { \n      });\n  }  \n  \n\n  onChangeDeviceFanCallback = (deviceId, requiredMode) => {\n    fetch(`${process.env.APP_HOST}:${process.env.SERVER_PORT}/device-services/set-device-fan-mode?data=[\"${this.hubId}\"][${deviceId},${requiredMode}]`)\n      .then(response => response.json())\n      .then(data => { \n      });\n  }  \n  \n\n  render() {\n    const Devices = this.DevicesData;\n    const weatherIcon = `weather/icons/${this.state.icon}.png`;\n    return (\n      <div className={styles.wrapper}>\n          <div className={styles.leftRail}>\n            <div className={[styles.weatherTitle, 'weatherTitle'].join(' ')}>\n              <div>\n                <img src={weatherIcon} />\n              </div> \n              <p>\n                outside: <span>{this.state.outsideTemp} °C</span>\n                feels like: <span>{this.state.feelsLike} °C</span>\n                humidity: <span>{this.state.humidity} %</span>\n              </p>    \n            </div>\n            <div className={styles.rightRail}>\n              <button className={this.state.flagEditable ? styles.addButtonHidden : styles.addButtonVisible } onClick={() => { this.addFlag()} }>ADD</button>\n              <EditDelete flagEditable={ this.state.flagEditable } editFlag={ () => { this.editFlag() } } hubId={ this.hubId } />\n            </div>\n              {Devices && Devices.map( (device, tId) => {\n                const id = parseInt(device.deviceId);\n                const key = `device-control-${id}`;\n                const deviceModeKey = `device-mode-${id}`;\n                const deviceFanModeKey = `device-fan-mode-${id}`;\n                const deviceName = device.deviceName;\n                const wrapperClass = typeof this.state.deviceBodyCSS[tId] === 'undefined' ? [] : this.state.deviceBodyCSS[tId].join(' ');\n                return(\n                <div key={key} className={wrapperClass}  >\n                  <BulletPoint flagName={deviceName} flagId={id} status={this.state.flagEditable} />\n                  <span className={styles.roomName}>{deviceName}</span>                  \n\n                  <RangeSlider \n                    min = {1}\n                    key={deviceModeKey}\n                    name=\"device-mode-selector\"\n                    onChangeCallback={this.onChangeDeviceModeCallback}  \n                    SetRangeValue={ (func) => { this.setDevicesliderMode[id] = func;  } }                     \n                    SliderId={id} labels={['OFF', 'COOL', 'HOT']} />\n\n                  <p className={styles.fanModeText}>FAN MODE</p>\n                  <RangeSlider \n                    min={0}\n                    key={deviceFanModeKey}\n                    name=\"device-fan-mode-selector\"                \n                    onChangeCallback={this.onChangeDeviceFanCallback}  \n                    SetRangeValue={ (func) => { this.setDeviceFanSliderMode[id] = func;  } } \n                    SliderId={id} labels={['AUTO', 'LOW', 'HIGH' ]} />                    \n\n                  <Dialer \n                    onChangeCallback={this.onChangeTemperatureCallback} \n                    onEditingMode={this.disableFetch}\n                    SliderId={id} \n                    Min={0} \n                    Max={90} \n                    Step={2}\n                    ShowPrecision={1}\n                    SetRangeValue={ (func) => { this.changeRange[id] = func;  } } \n                    setTempAndHumidity={ (func) => { this.setTempAndHumidity[id] = func;  } } />                  \n                </div>);}\n              )}\n          </div>      \n          {this.state.addFlagVisible ? <AddPopup newDeviceAdded={ () =>{ return this.isNewDeviceAdded() } } eviceAddedClear={ () => { this.deviceAddedClear() } } closePopup={ () => { this.closePopup() } } /> : null}\n          {this.state.messagePopup ? <MessagePopup msg={ this.state.messagePopupText } closeMessagePopup = { () =>{ this.closeMessagePopup() } } />: null }\n      </div>\n    );\n  }\n\n}\n\nexport default Home;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"weatherTitle\":\"Home-weatherTitle--3HthZ\",\"wrapper\":\"Home-wrapper--3avi5\",\"flagWrapper\":\"Home-flagWrapper--2aGak\",\"flagWrapperError\":\"Home-flagWrapperError--3Trmy\",\"fanModeText\":\"Home-fanModeText--hvfIh\",\"leftRail\":\"Home-leftRail--1B5Fn\",\"rightRail\":\"Home-rightRail--EYNWw\",\"addButtonVisible\":\"Home-addButtonVisible--2yIBN\",\"addButtonHidden\":\"Home-addButtonHidden--12snn\"};","import React from 'react';\n\nconst styles = require('./styles.scss');\n\n/**\n * HELPER COMPONENT TO DISPLAY LOADING ... AND HANDLE ERRORS WHEN COMPONENTS LOADS DYNAMICALLY \n * @param {} props \n */\nconst Loading = (props) => {\n  if (props.error) {\n    return (<div className={styles.wrapper}>\n              <h3>Error loading component!</h3> \n              <p><b>{props.error.message}</b></p>\n              <p>{props.error.stack}</p>\n              <div><button onClick={ props.retry }>Retry</button></div>\n            </div>);\n  } else {\n    return <div>Loading...</div>;\n  }\n} \n\nexport default Loading;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loading-wrapper--2uAUn\"};","import React, { useState, useEffect, useRef }  from 'react';\nimport styles from './styles.scss';\n\n\n\nconst MessagePopup = ({msg, closeMessagePopup}) => {    \n  return (\n    <div className={styles.modal}>\n      <div className={styles.modalContent}>\n        <span onClick={ () => { closeMessagePopup() } } className={styles.close}>&times;</span>\n        <div className={styles.flagProperties}>\n          <div dangerouslySetInnerHTML={{__html: msg}}></div>\n        </div>          \n      </div>      \n    </div>\n  );\n}\n\nexport default MessagePopup;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"MessagePopup-modal--N5o7f\",\"modalContent\":\"MessagePopup-modalContent--qC8VD\",\"close\":\"MessagePopup-close--1yzMl\"};","import React from 'react';\nimport styles from './styles.scss';\n\n\nconst RangeSlider = ({name, SliderId, labels, onChangeCallback, SetRangeValue, min}) => {  \n\n  const inputId = `${name}-${SliderId}`;\n  const max = min + labels.length - 1;\n  \n  const modeChanged = (e) => {\n    onChangeCallback(SliderId, e.target.value);\n  }\n\n  const _SetRangeValue = (range) => {\n    document.querySelector(`.${inputId}`).value = range;\n  }\n\n  SetRangeValue(_SetRangeValue);\n\n  return (    \n    <div className={styles.wrapper}>\n        <div className={styles.labels}>\n          {\n            labels.map( (label, id) => {\n              return(\n                <span key={id}>{label}</span>\n              );\n            })\n          }        \n        </div>\n        <input \n          className={[inputId].join(' ')}\n          onMouseUp={ (e) => { modeChanged(e) } }\n          onTouchEnd={ (e) => { modeChanged(e) } }\n          type=\"range\" \n          min={min} max={max} />  \n    </div>\n  );\n}\n\nexport default RangeSlider;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"RangeSlider-wrapper--3QGS7\",\"labels\":\"RangeSlider-labels--2teDk\"};","import React, { useState } from 'react';\nimport styles from './styles.scss';\nimport Poster from '../../utils/Poster';\nimport { apiUrl } from '../../utils/getParams';\n\nconst setupFullDatabase = async () => {\n  const result = await Poster(`${apiUrl}/setup-full`, {});\n  console.log(result);\n}\n\nconst setupDatabase = async () => {\n  const result = await Poster(`${apiUrl}/setup`, {});\n  console.log(result);\n}\n\nconst setupHubsDatabase = async () => {\n  const result = await Poster(`${apiUrl}/setup-hubs-db`, {});\n  console.log(result);\n}\n\nconst dropDatabase = async () => {\n  const result = await Poster(`${apiUrl}/dropdb`, {});\n  console.log(result);\n}\n\nif(typeof window !== 'undefined') {\n  window.getRegion = () => {\n    return \"US\";\n  }\n}\n\n\nfunction Setup() {\n\n  const [notAvailableModalVisible, setNotAvailableModalVisible] = useState(true);\n\n  const notAvailableModalClose = () => {\n    setNotAvailableModalVisible(false);\n    return true;\n  };\n\n\n  return(<div className={styles.wrapper}>\n    {notAvailableModalVisible && <p>##### SHOW / HIDE #######</p>}\n    <p>Wellcome to the setup page</p>\n    <p><button onClick={ () => { dropDatabase() }}>!!!!DROP DATABASE</button></p>\n    <p><button onClick={ () => { setupHubsDatabase() }}>CREATE TWO UNREGISTERED HUBS DATABASE</button></p>\n    <p><button onClick={ () => { setupDatabase() }}>CREATE DATABASE</button></p>\n    <p><button onClick={ () => { setupFullDatabase() }}>CREATE AND POPULATE DATABASE</button></p>\n    <button onClick={ () => { notAvailableModalClose() }}>SHOW / HIDE</button>\n  </div>);\n}\n\nexport { Setup }\nexport default Setup;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Setup-wrapper--2579Y\"};","import React, {Component} from 'react';\nimport styles from './styles.scss';\nimport Poster from '../../utils/Poster';\nimport Cookies from 'universal-cookie';\nimport { userApiUrl} from '../../utils/getParams';\nimport MessagePopup from '../MessagePopup';\n\n\nclass SignIn extends Component {\n\n  constructor(props) {    \n    super(props);\n    if(typeof window !== 'undefined') {\n      window.redirect = (hubId) => {\n        location.href=`/home?data=[\"${hubId}\"]`;\n      }\n    }\n    this.cookies = new Cookies();\n    this.state = {\n      popupVisible: false,\n      popupMessage: '',\n      logInPopupVisible: true\n    }\n  }\n\n  closeMessagePopup() {\n    this.setState({popupVisible: !this.state.popupVisible});\n  }\n\n  showLogInPopup() {\n    this.setState({logInPopupVisible: true});\n  }\n\n  showSignInPopup() {\n    this.setState({logInPopupVisible: false});\n  }\n\n\n  async logIn() {\n    if(document.querySelector('input[type=\"password\"][name=\"password\"]').value === '') {\n      this.setState({popupMessage: 'Please enter password!'});\n      this.setState({popupVisible: true});        \n      return;\n    }\n    if(document.querySelector('input[type=\"text\"][name=\"email\"]').value === '') {\n      this.setState({popupMessage: 'Please enter valid e-mail!'});\n      this.setState({popupVisible: true});        \n      return;\n    }\n\n    const postData = {\n      email: document.querySelector('input[type=\"text\"][name=\"email\"]').value,\n      password: document.querySelector('input[type=\"password\"][name=\"password\"]').value,\n    }    \n    \n    const result = await Poster(`${userApiUrl}/log-in`, postData);\n    if(typeof result.error !== 'undefined') {\n      this.setState({popupMessage: result.message});\n      this.setState({popupVisible: true});\n      return;\n    }\n    const user = JSON.stringify(result);\n    const hubId = result.deviceHubs[0];\n    this.cookies.set('user', user, { path: '/' });\n    //const l = \n    this.setState({popupMessage: `<p>Welcome!</p><p><button onclick=\"window.redirect('${hubId}')\">OK</button></p>`});\n    this.setState({popupVisible: true});\n    this.forceUpdate();\n  }\n\n\n  async registerUser() {\n    if(document.querySelector('input[type=\"password\"][name=\"password\"]').value === '') {\n      this.setState({popupMessage: 'Please enter password!'});\n      this.setState({popupVisible: true});        \n      return;\n    }\n    if(document.querySelector('input[type=\"text\"][name=\"email\"]').value === '') {\n      this.setState({popupMessage: 'Please enter valid e-mail!'});\n      this.setState({popupVisible: true});        \n      return;\n    }\n    if(document.querySelector('input[type=\"text\"][name=\"hubId\"]').value === '') {\n      this.setState({popupMessage: 'Please enter valid hub id!'});\n      this.setState({popupVisible: true});        \n      return;\n    }            \n    const postData = {\n      email: document.querySelector('input[type=\"text\"][name=\"email\"]').value,\n      password: document.querySelector('input[type=\"password\"][name=\"password\"]').value,\n      hubId: document.querySelector('input[type=\"text\"][name=\"hubId\"]').value\n    }\n    const result = await Poster(`${userApiUrl}/register-user`, postData);\n    let popupMsg = result.message;\n    if(typeof result.errorCode === 'undefined') {\n      popupMsg += '<p><button onclick=\"location.reload()\">SIGN IN</button></p>';\n    }\n    this.setState({popupMessage: popupMsg});\n    this.setState({popupVisible: true});\n  }\n\n  render() {\n\n    return (\n      <div className={styles.wrapper}>\n        {!this.state.logInPopupVisible && \n        <div className={['signIn']}>\n          <h1>Sign In</h1>\n          <div className={styles.userFieldsContainer}>\n              <label>User e-mail</label>\n              <input type=\"text\" placeholder=\"Enter Username\" name=\"email\" required />\n\n              <label>Password</label>\n              <input type=\"password\" placeholder=\"Enter Password\" name=\"password\" required />            \n\n              <label>Hub ID</label>\n              <input type=\"text\" placeholder=\"Enter hub ID\" name=\"hubId\" required />            \n\n              <button type=\"button\" onClick={ () => { this.registerUser() }} >REGISTER</button>\n              <p><a href=\"#\" onClick={() =>{ this.showLogInPopup() }}>Log In</a></p>\n          </div>\n        </div>}\n\n        {this.state.logInPopupVisible && \n        <div className={['LogIn']}>\n          <h1>Log In</h1>\n            <div className={styles.userFieldsContainer}>\n              <label>User e-mail</label>\n                <input type=\"text\" placeholder=\"Enter Username\" name=\"email\" required />\n\n                <label>Password</label>\n                <input type=\"password\" placeholder=\"Enter Password\" name=\"password\" required /> \n\n                <button type=\"button\" onClick={ () => { this.logIn() }} >LOG IN</button>    \n                <p><a href=\"#\" onClick={() =>{ this.showSignInPopup() }}>Sign In</a></p>                               \n            </div>\n        </div>}\n        { this.state.popupVisible && <MessagePopup msg={this.state.popupMessage} closeMessagePopup={ () => this.closeMessagePopup() }/>}\n    </div>)\n  }\n}\n\nexport default SignIn;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SignIn-wrapper--mKwZZ\",\"userFieldsContainer\":\"SignIn-userFieldsContainer--1qHhR\"};","import React, {Component} from 'react';\nimport styles from './styles.scss';\nimport Poster from '../../utils/Poster';\nimport Cookies from 'universal-cookie';\nimport { userApiUrl} from '../../utils/getParams';\nimport MessagePopup from '../MessagePopup';\n\n\nclass SignOut extends Component {\n\n  constructor(props) {    \n    super(props);\n    this.cookies = new Cookies();\n    if(typeof window !== 'undefined') {\n      this.logOutUser();\n    }\n    this.state = {\n      popupVisible: false,\n      popupMessage: '',\n      logInPopupVisible: true\n    }\n  }\n\n  async logOutUser() {\n    // runs only on client side\n    const user = this.cookies.get('user');\n    const postData = {\n      accessToken: user.accessToken,\n      email: user.email,\n    }\n    \n    const result = await Poster(`${userApiUrl}/log-out`, postData);\n    if(typeof result.error === 'undefined') {\n      this.cookies = new Cookies();\n      this.cookies.remove('user');\n      \n\n      this.setState({popupMessage: result.message});\n      this.setState({popupVisible: true});\n      return;\n    }\n    \n  }\n\n  closeMessagePopup() {\n    this.setState({popupVisible: !this.state.popupVisible});\n  }\n\n  render() {\n\n    return (\n      <div className={styles.wrapper}>\n        <div className={['signIn']}>\n          <h1>Bye!</h1>\n        </div>\n        { this.state.popupVisible && <MessagePopup msg={this.state.popupMessage} closeMessagePopup={ () => this.closeMessagePopup() }/>}\n    </div>)\n  }\n}\n\nexport default SignOut;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SignOut-wrapper--2f-jm\",\"userFieldsContainer\":\"SignOut-userFieldsContainer--mWuR-\"};","import React from 'react';\nimport styles from './styles.scss';\nimport {Poster} from '../../utils/Poster';\nimport { apiUrl } from '../../utils/getParams';\n\n\nconst handleTemperatureChange = (event) => {\n  console.log(event.target.value);\n}\n\n\nconst TemperatureBar = ({temp}) => {\n  return (    \n    <div>\n      <label>Curent Temperature: </label>\n      {temp}\n    </div>\n  );\n}\n\nexport default TemperatureBar;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"TemperatureBar-label--2-Bh7\"};","import React from 'react';\nimport styles from './styles.scss';\nimport {Poster} from '../../utils/Poster';\nimport { apiUrl } from '../../utils/getParams';\n\nconst switchToggled = async (featureFlagName) => {\n  const flag = findFlagByName(featureFlagName);\n  flag.value = flag.value === 'on' ? 'off' : 'on';\n  const postData = {\n    updateFlag: {\n      \"flagName\": featureFlagName\n    },\n    newFlagData: flag\n  }\n  console.log(\">>>\", apiUrl);\n  const result = await Poster(`${apiUrl}/update`, postData);\n}\n\nconst findFlagByName = (flagName) => {\n  const flags = window.__API_DATA__;\n  let result;\n  flags.forEach(element => {\n    if(element.flagName == flagName) {\n      result = element;\n    }\n  });\n  return result;\n}\n\nconst Renderer = ({featureFlagName, val}) => {\n  const checked = val === 'on' ? 'checked' : '';\n  return (    \n    <label className={styles.switch}>\n        <input className={featureFlagName} onChange={ () => { switchToggled(featureFlagName) }} type=\"checkbox\" defaultChecked={checked} />\n        <span className={styles.slider} />\n    </label>\n  );\n}\n\nexport default Renderer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switch\":\"ToggleSwitch-switch--x-dXs\",\"input\":\"ToggleSwitch-input--2upUx\",\"slider\":\"ToggleSwitch-slider--16u3Q\",\"round\":\"ToggleSwitch-round--3-huU\"};","import React, { useState } from 'react';\nimport styles from './styles.scss';\nimport Poster from '../../utils/Poster';\nimport { apiUrl } from '../../utils/getParams';\n\nconst setupFullDatabase = async () => {\n  const result = await Poster(`${apiUrl}/setup-full`, {});\n  console.log(result);\n}\n\nconst setupDatabase = async () => {\n  const result = await Poster(`${apiUrl}/setup`, {});\n  console.log(result);\n}\n\nconst setupHubsDatabase = async () => {\n  const result = await Poster(`${apiUrl}/setup-hubs-db`, {});\n  console.log(result);\n}\n\nconst dropDatabase = async () => {\n  const result = await Poster(`${apiUrl}/dropdb`, {});\n  console.log(result);\n}\n\nif(typeof window !== 'undefined') {\n  window.getRegion = () => {\n    return \"US\";\n  }\n}\n\n\nfunction Words() {\n\n  const [notAvailableModalVisible, setNotAvailableModalVisible] = useState(true);\n\n  const notAvailableModalClose = () => {\n    setNotAvailableModalVisible(false);\n    return true;\n  };\n\n\n  return(<div className={styles.wrapper}>\n    {notAvailableModalVisible && <p>##### SHOW / HIDE #######</p>}\n    <p>Wellcome to the setup page</p>\n    <p><button onClick={ () => { dropDatabase() }}>!!!!DROP DATABASE</button></p>\n    <p><button onClick={ () => { setupHubsDatabase() }}>CREATE TWO UNREGISTERED HUBS DATABASE</button></p>\n    <p><button onClick={ () => { setupDatabase() }}>CREATE DATABASE</button></p>\n    <p><button onClick={ () => { setupFullDatabase() }}>CREATE AND POPULATE DATABASE</button></p>\n    <button onClick={ () => { notAvailableModalClose() }}>SHOW / HIDE</button>\n  </div>);\n}\n\nexport { Words }\nexport default Words;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Words-wrapper--TaDqC\"};","import { MongoClient } from 'mongodb';\n//import assert from 'assert';\n\n// Connection URL\nconst url = `mongodb://localhost:${process.env.DB_DATABASE_PORT}`;\n// Database Name\nconst dbName = process.env.DB_DATABASE_NAME;\n\n\nconst connect = async () => {\n  let db = null;\n  try {\n    const client = await MongoClient.connect(url);\n    db = client.db(dbName);  \n  } \n  catch (err) {\n    console.log(\"Error connectiong to Mongo DB!\");\n    console.log(err.stack);\n  }     \n  return db;\n}\n\nexport default {\n\n  add: async (docObject, collectionName) => {\n    let result;\n\n    try  {\n      const db = await connect();\n      result = await db.collection(collectionName).insert(docObject);\n      return result;\n    }\n    catch (err) {\n      console.log(err.stack);\n    }  \n  },\n\t\n\tfind: async (searchObject, collectionName) => {\n    let client;\n    let result;\n\n    try  {\n      const db = await connect();\n      result = await db.collection(collectionName).find(searchObject).toArray();\n    }\n    catch (err) {\n      console.log(err.stack);\n    }    \n    if(client)\n      client.close();\n    return result;\n  },\n\n  remove: async (searchObject, collectionName) => {\n    let client;\n    let result;\n\n    try  {\n      client = await MongoClient.connect(url);\n      console.log(\"Connected correctly to server\");\n  \n      const db = client.db(dbName);\n      result = await db.collection(collectionName).remove(searchObject);\n    }\n    catch (err) {\n      console.log(err.stack);\n    }    \n    // Close connection\n    if(client)\n      client.close();\n    return result;  \n  },\n\n\tupdateOneField: async (searchObject, newObject, collectionName) => {\n    let client;\n    let result;\n\n    try  {\n      client = await MongoClient.connect(url);\n      console.log(\"Connected correctly to server\");\n  \n      const db = client.db(dbName);\n      result = await db.collection(collectionName).updateOne(searchObject, {$set:newObject} );\n    }\n    catch (err) {\n      console.log(err.stack);\n    }    \n    // Close connection\n    if(client)\n      client.close();\n    return result;\n  },    \n\n\tupdate: async (searchObject, newObject, collectionName) => {\n    let client;\n    let result;\n\n    try  {\n      client = await MongoClient.connect(url);\n      console.log(\"Connected correctly to server\");\n  \n      const db = client.db(dbName);\n\n      result = await db.collection(collectionName).update(searchObject, { $set: newObject }).toArray();\n    }\n    catch (err) {\n      console.log(err.stack);\n    }    \n    // Close connection\n    if(client)\n      client.close();\n    return result;\n  },  \n  \n  dropDB: async () => {\n    try  {\n      const db = await connect();\n      db.dropDatabase();\n    }\n    catch (err) {\n      console.log(err.stack);\n    }  \n  },\n\n  createEmpty: async (collectionName) => {\n    try  {\n      const db = await connect();\n      db.createCollection(collectionName, function() { console.log(\"Done!\")});\n    }\n    catch (err) {\n      console.log(err.stack);\n    }      \n  }\n}\n\n","const isFrontEnd = () => {\n    if(typeof window == 'undefined');\n}\n\nlet app_events;\nif(typeof window === 'undefined') {\n    if(typeof global.__APP_EVENTS__  == 'undefined')\n        global.__APP_EVENTS__ = {};\n    app_events = global.__APP_EVENTS__;\n}\nelse {\n    if(typeof window.__APP_EVENTS__  == 'undefined')    \n        window.__APP_EVENTS__ = {};\n    app_events = window.__APP_EVENTS__;            \n}\n\nexport default {    \n    registerEvent: (eventName, eventAction) => {\n        if(typeof app_events[eventName] == 'undefined') {\n            app_events[eventName] = eventAction;\n            return true;\n        }\n        return false;\n    },\n\n    callEvent: (eventName) => {\n        //debugger;\n        //return app_events;\n        //return app_events[eventName];\n        return app_events[eventName];\n        //return app_events;\n    }\n}","import Loadable from 'react-loadable';\nimport Loading from '../../../components/Loading';\n\n/* Components */\nconst Header = Loadable({\n  loader: () => import ('../../../components/Header'),\n  loading: Loading\n});\nconst Home = Loadable({\n  loader: () => import ('../../../components/Home'),\n  loading: Loading\n});\nconst About = Loadable({\n  loader: () => import ('../../../components/About'),\n  loading: Loading\n});\nconst Setup = Loadable({\n  loader: () => import ('../../../components/Setup'),\n  loading: Loading\n});\nconst SignIn = Loadable({\n  loader: () => import ('../../../components/SignIn'),\n  loading: Loading\n});\nconst SignOut = Loadable({\n  loader: () => import ('../../../components/SignOut'),\n  loading: Loading\n});\nconst Account = Loadable({\n  loader: () => import ('../../../components/Account'),\n  loading: Loading\n});\nconst Words = Loadable({\n  loader: () => import ('../../../components/Words'),\n  loading: Loading\n});\n\nexport default {\n  Home,\n  About,\n  Setup,\n  Header,\n  SignIn,\n  SignOut,\n  Account,\n  Words\n}\n","export default { \n  '/about' : {\n    template: \"Html\",    \n    layout: [ \n      {\n        span: 12,\n        components: [\n          {\n            name: \"Header\",\n            props: {}\n          }\n        ]\n      },\n      {\n        span: 12,\n        components:[\n          {\n            name: \"About\",\n            props: {}\n          }\n        ] \n      }         \n    ]    \n  },\n  '/test' : {\n    template: \"Html\",              \n    layout: [ \n      {\n        span: 12,\n        components: [\n          {\n            name: \"Header\",\n            props: {}\n          }\n        ]\n      },\n      {\n        span: 12,\n        components:[\n          {\n            name: \"Words\",\n            props: {}\n          }\n        ] \n      },        \n    ]\n  },  \n  '/home' : {\n    template: \"Html\",              \n    layout: [ \n      {\n        span: 12,\n        components: [\n          {\n            name: \"Header\",\n            props: {}\n          }\n        ]\n      },\n      {\n        span: 12,\n        components:[\n          {\n            name: \"Home\",\n            props: {}\n          }\n        ] \n      },        \n    ]\n  },\n  '/setup' : {\n    template: \"Html\",    \n    layout: [ \n      {\n        span: 12,        \n        components: [\n          {\n            name: \"Header\",\n            props: {}\n          }\n        ]\n      },\n      {\n        span: 12,\n        components:[\n          {\n            name: \"Setup\",\n            props: {}\n          }\n        ] \n      },        \n    ]\n  },\n  '/other-template' : {\n    template: \"OtherHtml\",      \n    layout: [ \n      {\n        span: 12,\n        components:[\n          {\n            name: \"Greetings\",\n            props: {}\n          }\n        ] \n      },        \n    ]\n}    \n}\n","import React, { Component } from 'react';\nimport ComponentList from './ComponentList';\nimport PageData from './PageData';\nimport Cookies from 'universal-cookie';\nconst styles = require('./styles.scss');\n\nclass PageLayout extends Component {\n\n    constructor(props) {      \n      super(props);    \n      this.cookies = new Cookies();\n      this.user = null;\n    } \n  \n    render() {      \n      let url = this.props.location.pathname;  \n\n      if(typeof window === 'undefined') {\n        // server side \n\n      } else {\n        // client side       \n        window.__API_DATA__.url = url;\n      }\n      const page = PageData[url];\n      const template = page.template || \"template-not-found\"\n\n      const allLayout = page.layout.map((layoutList) => {\n        const layout = layoutList.components.map((component, id , components) => {          \n          const componentName = component.name;    \n          const props = component.props;    \n          const ChildComponent = ComponentList[componentName];\n          if(typeof ChildComponent === 'undefined') {\n            return(\n              <div key='{id}' className={styles.error}>Can't find {componentName} component!</div>\n            );\n          }\n          return (\n              <ChildComponent key={componentName} props={props} />\n          );\n        });\n        return layout;\n      });\n      return(\n        <div className={styles.app}>\n          {allLayout}\n        </div>\n      );\n    }\n}\nexport default PageLayout;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"PageLayout-error--1JXBd\",\"wrapper\":\"PageLayout-wrapper--2x-cs\"};","\nimport mongoDB  from'../connectors/database/mongodb';\n\nconst devicesCollectionName = 'devices';\nconst usersCollectionName = 'users';\nconst hubsCollectionName = 'hubs';\n\nexport default {\n\n    // #######################################\n    // Hub functions\n    // #######################################  \n\n    getHub: async (searchObject) => {\n      const result = await mongoDB.find(searchObject, hubsCollectionName);\n      return result;\n    },     \n\n    updateHub: async (searchObject, updateObject) => {       \n      const result = await mongoDB.updateOneField(searchObject, updateObject, hubsCollectionName);\n      return result;\n    },     \n\n    // #######################################\n    // Devices functions\n    // #######################################\n    getAllDevices: async () => {\n      const result = await mongoDB.find({}, devicesCollectionName);\n      return result;\n    }, \n\n    getDevicesBySearchTerm: async (searchObject) => {\n      const result = await mongoDB.find(searchObject, devicesCollectionName);\n      return result;\n    },\n\n\n    remove: async (flagData) => {\n      mongoDB.remove(flagData, devicesCollectionName, () => {\n        return true;\n      });     \n     },      \n\n    // #######################################\n    // Users functions\n    // #######################################\n\n    getUser: async (searchObject) => {\n      const result = await mongoDB.find(searchObject, usersCollectionName);\n      return result;\n    },  \n\n    addUser: async (userObject) => {    \n      const result = await mongoDB.add(userObject, usersCollectionName);\n      return result;\n     },\n\n     updateUser: async (searchObject, updateObject) => {    \n      const result = await mongoDB.updateOneField(searchObject, updateObject, usersCollectionName);\n      return result;\n    },       \n\n    getAllUsers: async (userId) => {\n      const result = await mongoDB.find({}, usersCollectionName);\n      return result;\n    },  \n\n    getUserByUserId: async (userId) => {\n      const result = await mongoDB.find({ \"UserId\": userId }, devicesCollectionName);\n      return result;\n    },\n\n    getUserIdByDeviceId: async (deviceId) => {\n      return mongoDB.find({deviceHubs: deviceId}, usersCollectionName);\n    },    \n\n\n    /**\n     * \n     * @returns devicesObject\n     */\n    getDevicesData: async () => {\n      const result = await mongoDB.find({}, devicesCollectionName);\n      return result;     \n     },    \n    \n    getDevicesDataForHubId: async (hubId) => {\n      const result = await mongoDB.find({ hubId: hubId }, devicesCollectionName);\n    return result;     \n   },\n\n   updateFeatureFlag: async (searchObject, newObject) => {\n     delete newObject._id;\n    mongoDB.update(searchObject, newObject, devicesCollectionName, (result) => {\n      return true;\n    });     \n   },    \n\n   addFeatureFlag: async (flagData) => {\n    mongoDB.add(flagData, devicesCollectionName, () => {\n      return true;\n    });     \n   },   \n\n\n   dropdb: async () => {\n    const result = mongoDB.dropDB();\n    return result;\n   },\n  \n   addDevice: async (deviceObject) => {    \n    mongoDB.add(deviceObject, devicesCollectionName, () => {}); \n   },\n\n   setup: async () => {\n     mongoDB.dropDB();\n\n     const hubs = [\n      {\n        \"id\": \"AXCS12\",\n        \"registered\": false,\n        \"partition\": 1\n      },\n      {\n        \"id\": \"B2CF62\",\n        \"registered\": false,\n        \"partition\": 1\n      }      \n    ];\n    mongoDB.add(hubs, hubsCollectionName, () => {}); \n         \n     const devicesObj = [\n      {\n        \"deviceId\": \"0\",\n        \"userId\": \"0\",\n        \"deviceName\" : \"Living Room\",\n        \"hubId\": \"AXCS12\",\n        \"group\": \"My home\",        \n        \"humidity\": \"0\",\n        \"curentTemp\": \"0\",\n        \"requiredTemp\": \"0\",\n        \"mode\": \"1\",\n        \"fanMode\": \"0\"\n      },\n\n      {\n        \"deviceId\": \"0\",\n        \"userId\": \"1\",\n        \"deviceName\" : \"My Studio thermostat\",\n        \"hubId\": \"B2CF62\",\n        \"group\": \"My Studio\",        \n        \"humidity\": \"0\",\n        \"curentTemp\": \"0\",\n        \"requiredTemp\": \"0\",\n        \"mode\": \"1\",\n        \"fanMode\": \"0\"\n      },\n      \n      {\n        \"deviceId\": \"1\",\n        \"userId\": \"0\",\n        \"deviceName\" : \"Bedroom\",\n        \"hubId\": \"AXCS12\",\n        \"group\": \"My home\",        \n        \"humidity\": \"0\",\n        \"curentTemp\": \"0\",\n        \"requiredTemp\": \"0\",\n        \"mode\": \"1\",\n        \"fanMode\": \"0\"\n      },  \n      \n      {\n        \"deviceId\": \"2\",\n        \"userId\": \"0\",\n        \"deviceName\" : \"BlueRoom thermostat\",\n        \"hubId\": \"AXCS12\",\n        \"group\": \"My Home\",        \n        \"humidity\": \"0\",\n        \"curentTemp\": \"0\",\n        \"requiredTemp\": \"0\",\n        \"mode\": \"1\",\n        \"fanMode\": \"0\"\n      },      \n     ];\n    mongoDB.add(devicesObj, devicesCollectionName, () => {}); \n\n    // create users collection\n    const usersObj = [\n      {\n        \"id\": \"AXCS12-u\",\n        \"email\" : \"toni.nichev@gmail.com\",\n        \"password\": \"1234\",\n        \"group\": \"some group\",\n        \"deviceHubs\": [\n          \"AXCS12\"\n        ]     \n      },\n      {\n        \"id\": \"B2CF62\",\n        \"email\" : \"john.smith@gmail.com\",\n        \"password\": \"1234\",\n        \"group\": \"some group\",     \n        \"deviceHubs\": [\n          \"B2CF62\"\n        ]     \n      }                \n     ];    \n     mongoDB.add(usersObj, usersCollectionName, () => {}); \n   },\n\n   setupHubsDb: async () => {\n    mongoDB.dropDB();\n    mongoDB.createEmpty(\"devices\");\n    mongoDB.createEmpty(\"users\");\n\n    const hubs = [\n      {\n        \"id\": \"AXCS12\",\n        \"registered\": false,\n        \"partition\": 1\n      },\n      {\n        \"id\": \"B2CF62\",\n        \"registered\": false,\n        \"partition\": 1\n      }      \n    ];\n    mongoDB.add(hubs, hubsCollectionName, () => {});     \n   },\n   \n   setupOneUser: async () => {\n    mongoDB.dropDB();\n    const devicesObj = [];\n    mongoDB.add(devicesObj, devicesCollectionName, () => {}); \n\n    // create users collection\n    const usersObj = [\n      {\n        \"userId\": \"0\",\n        \"email\" : \"toni.nichev@gmail.com\",\n        \"password\": \"1234\",\n        \"group\": \"some group\",\n        \"deviceHubs\": [\n          \"AXCS12\"\n        ]     \n      },\n      {\n        \"userId\": \"1\",\n        \"email\" : \"john.smith@gmail.com\",\n        \"password\": \"1234\",\n        \"group\": \"some group\",     \n        \"deviceHubs\": [\n          \"B2CF62\"\n        ]     \n      }                \n    ];    \n    mongoDB.add(usersObj, usersCollectionName, () => {}); \n\n    const hubs = [\n      {\n        \"id\": \"AXCS12\",\n        \"registered\": false,\n        \"partition\": 1\n      },\n      {\n        \"id\": \"B2CF62\",\n        \"registered\": false,\n        \"partition\": 1\n      }      \n    ];\n    mongoDB.add(hubs, hubsCollectionName, () => {}); \n  }     \n\n}\n","import React from 'react';\n\nconst publicPath = `${process.env.APP_HOST}:${process.env.ASSETS_SERVER_PORT}/dist/`;\n\nconst Html = ({ content, cssBundles, jsBundles, apiData }) => (\n  <html lang=\"en\">  \n  <head>\n    <meta charSet=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <meta http-equiv=\"ScreenOrientation\" content=\"autoRotate:disabled\" />\n    <script> \n      var startTime = new Date();\n    </script>\n    <title>Server Side Rendering and Bundle Splitting</title>\n\n    { // don't add this to DEV since there, it will be served from Webpack-dev-server\n      process.env.ENVIRONMENT !== 'development' && (\n      <link\n        href={`${publicPath}main.css`}\n        rel=\"stylesheet\"\n        as=\"style\"\n        media=\"screen, projection\"\n        type=\"text/css\"\n        charSet=\"UTF-8\"\n      />)\n    }\n    {\n      cssBundles.map( (bundle) => \n        (<link\n          href={`${bundle.publicPath}`}\n          rel=\"stylesheet\"\n          as=\"style\"\n          media=\"screen, projection\"\n          type=\"text/css\"\n          charSet=\"UTF-8\"\n        />))\n    }\n\n    {jsBundles.map( ( {file}) => (<script src={`${publicPath}${file}`}>{file}</script>) )}\n\n    <script dangerouslySetInnerHTML={{\n          __html: `window.__API_DATA__=${JSON.stringify(apiData)}`}} />    \n       \n  </head>\n  <body cz-shortcut-listen=\"true\">\n    <div id=\"root\" dangerouslySetInnerHTML={{ __html: content }} />  \n    <script src={`${publicPath}main-bundle.js`}></script>\n  </body>\n</html>  \n\n);\n\nexport default Html;  ","import React from 'react';\n\nconst publicPath = `${process.env.APP_HOST}:${process.env.ASSETS_SERVER_PORT}/dist/`;\n\nconst Html = ({ content, cssBundles, jsBundles, apiData }) => (\n  <html lang=\"en\">  \n  <head>\n    <meta charSet=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <title>Internal Error</title>\n  </head>\n  <body cz-shortcut-listen=\"true\">\n    <div id=\"root\">\n        INTERNAL ERROR !\n    </div>\n  </body>\n</html>  \n\n);\n\nexport default Html;  ","import React from 'react';\n\nconst publicPath = `${process.env.APP_HOST}:${process.env.ASSETS_SERVER_PORT}/dist/`;\n\nconst Html = ({ content, cssBundles, jsBundles, apiData }) => (\n  <html lang=\"en\">  \n  <head>\n    <meta charSet=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <title>Other Template</title>\n\n    { // don't add this to DEV since there it will be served from Webpack-dev-server\n      process.env.ENVIRONMENT !== 'development' && (\n      <link\n        href={`${publicPath}main.css`}\n        rel=\"stylesheet\"\n        as=\"style\"\n        media=\"screen, projection\"\n        type=\"text/css\"\n        charSet=\"UTF-8\"\n      />)\n    }\n    {\n      cssBundles.map( (bundle) => \n        (<link\n          href={`${bundle.publicPath}`}\n          rel=\"stylesheet\"\n          as=\"style\"\n          media=\"screen, projection\"\n          type=\"text/css\"\n          charSet=\"UTF-8\"\n        />))\n    }\n\n    {jsBundles.map( ( {file}) => (<script src={`${publicPath}${file}`}>{file}</script>) )}\n\n    <script dangerouslySetInnerHTML={{\n          __html: `window.__API_DATA__=${JSON.stringify(apiData)}`}} />    \n  </head>\n  <body cz-shortcut-listen=\"true\">\n    <div id=\"root\" dangerouslySetInnerHTML={{ __html: content }} />  \n    <script src={`${publicPath}main-bundle.js`}></script>\n  </body>\n</html>  \n\n);\n\nexport default Html;  ","import Html from '../Html.js';\nimport OtherHtml from '../OtherHtml.js';\nimport InternalError from '../InternalError.js';\nimport TemplateNotFound from '../TemplateNotFound.js';\n\nexport default {\n  Html,\n  OtherHtml,\n  InternalError,\n\n}","import React from 'react';\n\nconst publicPath = `${process.env.APP_HOST}:${process.env.ASSETS_SERVER_PORT}/dist/`;\n\nconst Html = ({ content, cssBundles, jsBundles, apiData }) => (\n  <html lang=\"en\">  \n  <head>\n    <meta charSet=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <meta http-equiv=\"ScreenOrientation\" content=\"autoRotate:disabled\" />\n    <script> \n      var startTime = new Date();\n    </script>\n    <title>Server Side Rendering and Bundle Splitting</title>\n\n    { // don't add this to DEV since there, it will be served from Webpack-dev-server\n      process.env.ENVIRONMENT !== 'development' && (\n      <link\n        href={`${publicPath}main.css`}\n        rel=\"stylesheet\"\n        as=\"style\"\n        media=\"screen, projection\"\n        type=\"text/css\"\n        charSet=\"UTF-8\"\n      />)\n    }\n    {\n      cssBundles.map( (bundle) => \n        (<link\n          href={`${bundle.publicPath}`}\n          rel=\"stylesheet\"\n          as=\"style\"\n          media=\"screen, projection\"\n          type=\"text/css\"\n          charSet=\"UTF-8\"\n        />))\n    }\n\n    {jsBundles.map( ( {file}) => (<script src={`${publicPath}${file}`}>{file}</script>) )}\n\n    <script dangerouslySetInnerHTML={{\n          __html: `window.__API_DATA__=${JSON.stringify(apiData)}`}} />    \n       \n  </head>\n  <body cz-shortcut-listen=\"true\">\n    <h1>TEMPLATE NOT FAUND</h1>\n    <div id=\"root\" dangerouslySetInnerHTML={{ __html: content }} />  \n    <script src={`${publicPath}main-bundle.js`}></script>\n  </body>\n</html>  \n\n);\n\nexport default Html;  ","export const Poster = async (url = '', data = {}) => {\n    /* Express throws CORS errror on Content-Type: application/json.\n    The solution is to add body-parser and send stringified JSON */\n\n    const response = await fetch(url, {\n    method: 'POST',\n    headers: {'Content-Type': 'text/plain' },\n    body: JSON.stringify(data)\n    });\n    return  response.json(); // parses JSON response into native JavaScript objects\n}\n\nexport default Poster;","export const url = process.env.APP_HOST;\nexport const apiUrl = `${process.env.APP_HOST}:${process.env.SERVER_PORT}\\/services`;\nexport const userApiUrl = `${process.env.APP_HOST}:${process.env.SERVER_PORT}\\/user-services`;\nexport const deviceApiUrl = `${process.env.APP_HOST}:${process.env.SERVER_PORT}\\/device-services`;\n","import fs from 'fs';\nimport React from 'react';\nimport express from 'express';\nimport https  from 'https';\nimport fetch from 'isomorphic-fetch';\nimport App from './src/components/App';\nimport Loadable from 'react-loadable';\nimport manifest from './dist/loadable-manifest.json';\nimport { getBundles } from 'react-loadable/webpack';\nimport ReactDOMServer from 'react-dom/server';\nimport templateList from './src/templates/TemplateList';\nimport cookieParser from 'cookie-parser';\n//import cookiesManagement from './expressMiddlewares/cookiesManagement';\nimport requestDataFromAPI from './expressMiddlewares/requestDataFromAPI';\nconst publicPath = `${process.env.APP_HOST}:${process.env.ASSETS_SERVER_PORT}/dist/`;\n// import pageData from './expressMiddlewares/pageData';\nimport devicesServices from './expressMiddlewares/devicesServices';\nimport userServices from './expressMiddlewares/userServices';\nimport weatherServices from './expressMiddlewares/WeatherServices';\nimport queries from './src/queries';\nimport bodyParser from 'body-parser';\n\nconst {APP_HOST, SERVER_PORT, ENVIRONMENT} = process.env;\nlet test = null;\n\n// create users object so we won't jump to DB every time to validate tokens\nlet usersData ={};\nlet devicesData = {};\nlet hubPreferences = {};\n\n// only on app start - load devices data !!! To-do get rid of this and request devices data for the specific user\n( async () => {\n  const devices = await queries.getAllDevices();\n  if(devices.length === 0) {\n    console.log('No device data at all!');\n  }\n  else {\n  }\n})();\n\n\nconsole.log(\"SERVER_PORT: \", SERVER_PORT);\nconst app = new express();\n\napp.use(express.json());\napp.use(express.urlencoded({xtended: true}));\napp.use(express.text())\n\napp.use(bodyParser.text({ type: 'text/*' }));\n\napp.use(cookieParser());\napp.use('/source-maps', express.static('./dist/source-maps'));\napp.use('/server-build', express.static('./server-build'));\napp.use('/dist', express.static('dist')); // to serve frontent prod static files\napp.use('/favicon.ico', express.static('./static-assets/favicon.ico'));\napp.use(express.static('static-assets'));\n\nfunction responseWithSourceCode(req, res, apiData, templateName) {\n\n  \n  // make APP data available for SSR and browser.\n  global.__API_DATA__ = apiData;\n  const Html = templateList[req.template];\n\n  // Prepare to get list of all modules that have to be loaded for this route\n  let modules = [];\n  ReactDOMServer.renderToString(\n    <Loadable.Capture report={moduleName => modules.push(moduleName)}>\n      <App req={req} />\n    </Loadable.Capture>\n  );\n\n  \n  // Extract CSS and JS bundles\n  const bundles = getBundles(manifest, modules); \n  const cssBundles = bundles.filter(bundle => bundle && bundle.file.split('.').pop() === 'css');\n  const jsBundles = bundles.filter(bundle => bundle && bundle.file.split('.').pop() === 'js');\n\n  const allJS = (jsBundles.map( ( {publicPath}) => `<script src='${publicPath}'></script>`)).join(\"\\n\");\n\n  // don't add this to DEV since there, it will be served from Webpack-dev-server\n  let mainCSS = ``;\n  let allCSS = '';  \n\n  if(process.env.ENVIRONMENT !== 'development') {\n    mainCSS = `<link\n      href='${publicPath}main.css'\n      rel=\"stylesheet\"\n      as=\"style\"\n      media=\"screen, projection\"\n      type=\"text/css\"\n      charSet=\"UTF-8\"\n    />`; \n\n    allCSS = cssBundles.map( (bundle) => `\n    <link\n      href='${bundle.publicPath}'\n      rel=\"stylesheet\"\n      as=\"style\"\n      media=\"screen, projection\"\n      type=\"text/css\"\n      charSet=\"UTF-8\"\n    />`).join(\"\\n\");\n  }  \n\n  const HTML_content = ReactDOMServer.renderToString(<App req={req} />);\n  const html = <Html content={HTML_content} cssBundles={cssBundles} jsBundles={jsBundles} apiData={apiData}/>;\n  res.status(200);\n  res.send(`<!doctype html>\\n${ReactDOMServer.renderToStaticMarkup(html)}`);\n  res.end();\n}\n\napp.get('/Robots.txt', (req, res) => {   \n  res.send(`\n  User-agent: * Disallow: /\n  `)\n});\n\n// #############################################################\n//  devices services route\n// #############################################################\napp.get('/device-services/*',\n  function (req, res, next) {\n    requestDataFromAPI(req, res, devicesData, usersData, next);\n  },\n  function (req, res, next) {\n    if(typeof req?.apiData?.devicesData === 'undefined') {\n      if(typeof req?.apiData?.hubId !== 'undefined') {\n        const hubId = req.apiData.hubId;\n        devicesData[hubId] = [];\n        hubPreferences[hubId] = {\n          mode: 0\n        }\n      }\n    }\n    devicesServices(req, res, devicesData, hubPreferences, usersData);\n});\n\n// #############################################################\n//  user services route\n// #############################################################\n\napp.post('/user-services/*', async (req, res) => {\n  userServices(req, res, usersData);\n});\n\n// #############################################################\n//  weather services route\n// #############################################################\n\napp.get('/weather-services/*', async (req, res) => {\n  await weatherServices(req, res);\n});\n\n// #############################################################\n// All page requests\n// #############################################################\napp.get('/*', \n  function (req, res, next) {\n    requestDataFromAPI(req, res, usersData, next);\n  },\n  function (req, res, next) {\n    responseWithSourceCode(req, res, req.apiData, req.templateName);\n});\n\n// #############################################################\n//  setup services\n// #############################################################\napp.post('/services/setup-full', async (req, res) => {\n  queries.setup();\n  devicesData = [];\n\n  res\n  .status(200)\n  .set('Content-Type', 'application/json')\n  .set('Access-Control-Allow-Origin', '*')\n  .set('Access-Control-Allow-Headers', '*')\n  .send('{\"status\": \"sucess\"}');  \n});\n\napp.post('/services/setup-hubs-db', async (req, res) => {\n  queries.setupHubsDb();\n  res\n  .status(200)\n  .set('Content-Type', 'application/json')\n  .set('Access-Control-Allow-Origin', '*')\n  .set('Access-Control-Allow-Headers', '*')\n  .send('{\"status\": \"sucess\"}');  \n});\n\napp.post('/services/setup', async (req, res) => {\n  //queries.setup();\n  queries.setupOneUser();\n  devicesData = [];\n\n  res\n  .status(200)\n  .set('Content-Type', 'application/json')\n  .set('Access-Control-Allow-Origin', '*')\n  .set('Access-Control-Allow-Headers', '*')\n  .send('{\"status\": \"sucess\"}');  \n});\n\napp.post('/services/dropdb', async (req, res) => {\n  const respond = queries.dropdb();\n  res\n  .status(200)\n  .set('Content-Type', 'application/json')\n  .set('Access-Control-Allow-Origin', '*')\n  .set('Access-Control-Allow-Headers', '*')\n  .send(respond);  \n});\n\n\n// #############################################################\n//  starting server\n// #############################################################\n\nLoadable.preloadAll().then(() => {\n\n  if(ENVIRONMENT == 'development') {\n    // use plain http for development\n    app.listen(SERVER_PORT, () => {\n      console.log(`😎 Server is listening on port ${SERVER_PORT}`);\n    });  \n  }\n  else {\n    // https requests might be too much of a work for Arduino\n    app.listen(SERVER_PORT, () => {\n      console.log(`😎 Server is listening on port ${SERVER_PORT}`);\n    });  \n\n    // we will pass the 'app' to 'https' server\n    /*\n    https.createServer({\n      // replace with certificate location\n      key: fs.readFileSync('/Users/toninichev/.getssl/toni-develops.com/toni-develops.com.key'),\n      cert: fs.readFileSync('/Users/toninichev/.getssl/toni-develops.com/toni-develops.com.crt')\n    }, app)\n    .listen(SERVER_PORT);\n    */\n  }\n\n\n// #############################################################\n//  starting workers\n// #############################################################  \n\nfunction runWorkers() {\n  //console.log(\"--=== workers ===--\");\n  //console.log(\"(w) hubPreferences: \", hubPreferences);\n  setTimeout(() =>{\n    runWorkers();\n  }, 1000);\n}\nconst workers = setTimeout(() => {\n  runWorkers();\n}, 1000);\n\n});","module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");","module.exports = require(\"@babel/runtime/helpers/classCallCheck\");","module.exports = require(\"@babel/runtime/helpers/createClass\");","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"@babel/runtime/helpers/extends\");","module.exports = require(\"@babel/runtime/helpers/getPrototypeOf\");","module.exports = require(\"@babel/runtime/helpers/inherits\");","module.exports = require(\"@babel/runtime/helpers/possibleConstructorReturn\");","module.exports = require(\"@babel/runtime/helpers/slicedToArray\");","module.exports = require(\"@babel/runtime/helpers/toConsumableArray\");","module.exports = require(\"@babel/runtime/helpers/typeof\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"body-parser\");","module.exports = require(\"cookie-parser\");","module.exports = require(\"crypto\");","module.exports = require(\"express\");","module.exports = require(\"fs\");","module.exports = require(\"https\");","module.exports = require(\"isomorphic-fetch\");","module.exports = require(\"mongodb\");","module.exports = require(\"querystring\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-loadable\");","module.exports = require(\"react-loadable/webpack\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"universal-cookie\");","module.exports = require(\"url\");"],"sourceRoot":""}